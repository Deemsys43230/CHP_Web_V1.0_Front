<div class="white-background" ng-cloak class="ng-cloak"><h3 class="text-center margin-tb-10 text-green text-bold">Your Goal</h3><div class="col-md-12 col-sm-12 no-padding"><div class="col-md-6 col-sm-6">Plan Type<span class="pull-right">:</span></div><div class="col-md-6 col-sm-6 no-padding"><span ng-show="goalDetails.planType == '1'">Maintain Weight</span> <span ng-show="goalDetails.planType == '2'">Weight Gain</span> <span ng-show="goalDetails.planType == '3'">Weight Loss</span></div></div><div class="col-md-12 col-sm-12 no-padding"><div class="col-md-6 col-sm-6">Goal Type<span class="pull-right">:</span></div><div class="col-md-6 col-sm-6 no-padding"><span ng-show="goalDetails.planchoice == '5'">Custom</span> <span ng-show="goalDetails.planchoice != '5'"><span ng-show="goalDetails.planType == '2'">Gain</span> <span ng-show="goalDetails.planType == '3'">Lose</span> <span ng-show="goalDetails.planchoice == '1'">1/4</span> <span ng-show="goalDetails.planchoice == '2'">1/2</span> <span ng-show="goalDetails.planchoice == '3'">3/4</span> <span ng-show="goalDetails.planchoice == '4'">1</span> <span ng-show="userProfile.unitPreference == '1'">Kg</span> <span ng-show="userProfile.unitPreference == '2'">lb</span> per week</span></div></div><div class="col-md-12 col-sm-12 no-padding"><div class="col-md-6 col-sm-6">Initial Weight<span class="pull-right">:</span></div><div class="col-md-6 col-sm-6 no-padding">{{goalDetails.initialweight}} <small><span ng-show="userProfile.unitPreference==1">Kgs</span><span ng-show="userProfile.unitPreference==2">lbs</span></small></div></div><div class="col-md-12 col-sm-12 no-padding"><div class="col-md-6 col-sm-6">Start Date<span class="pull-right">:</span></div><div class="col-md-6 col-sm-6 no-padding">{{goalDetails.startdate}}</div></div><div class="col-md-12 col-sm-12 no-padding"><div class="col-md-6 col-sm-6">End Date<span class="pull-right">:</span></div><div class="col-md-6 col-sm-6 no-padding">{{goalDetails.enddate}}</div></div><div ng-hide="goalExpired" class="col-md-12 col-sm-12 no-padding"><div class="col-md-6 col-sm-6">Remaining Days<span class="pull-right">:</span></div><div class="col-md-6 col-sm-6 no-padding">{{remainingDates}} <small>days</small></div></div><div ng-show="goalExpired" class="col-md-12 col-sm-12 no-padding"><div class="col-md-6 col-sm-6">Goal Status<span class="pull-right">:</span></div><div class="col-md-6 col-sm-6 no-padding text-red">Expired</div></div><div ng-show="goalExpired" class="col-md-12 col-sm-12 no-padding"><div class="col-md-6 col-sm-6">Target Days<span class="pull-right">:</span></div><div class="col-md-6 col-sm-6 no-padding">{{targetDays}} <small>days</small></div></div><div ng-show="goalExpired" class="col-md-12 col-sm-12 no-padding"><div class="col-md-6 col-sm-6">Initial Weight<span class="pull-right">:</span></div><div class="col-md-6 col-sm-6 no-padding">{{goalDetails.initialweight}} <small><span ng-show="userProfile.unitPreference==1">Kgs</span><span ng-show="userProfile.unitPreference==2">lbs</span></small></div></div><div class="col-md-12 col-sm-12 no-padding"><div class="col-md-6 col-sm-6">Target Weight<span class="pull-right">:</span></div><div class="col-md-6 col-sm-6 no-padding">{{goalDetails.targetweight}} <small><span ng-show="userProfile.unitPreference==1">Kgs</span><span ng-show="userProfile.unitPreference==2">lbs</span></small></div></div><div ng-hide="goalExpired" class="col-md-12 col-sm-12 no-padding"><div class="col-md-6 col-sm-6">Current Weight<span class="pull-right">:</span></div><div class="col-md-6 col-sm-6 no-padding">{{demography.weight}} <small><span ng-show="userProfile.unitPreference==1">Kgs</span><span ng-show="userProfile.unitPreference==2">lbs</span></small></div></div><div ng-show="goalExpired" class="col-md-12 col-sm-12 no-padding"><div class="col-md-6 col-sm-6">Achieved Weight<span class="pull-right">:</span></div><div class="col-md-6 col-sm-6 no-padding">{{achievedWeight}} <small><span ng-show="userProfile.unitPreference==1">Kgs</span><span ng-show="userProfile.unitPreference==2">lbs</span></small></div></div><div ng-show="goalExpired" class="col-md-12 col-sm-12 no-padding margin-bottom-7"><div class="col-md-6 col-sm-6">Goal Result<span class="pull-right">:</span></div><div class="col-md-6 col-sm-6 no-padding"><span ng-show="achieveStatus==0" class="text-red">Not Achieved</span> <span ng-show="achieveStatus==1" class="text-orange">Partially Achieved</span> <span ng-show="achieveStatus==2" class="text-green">Achieved</span></div></div><div ng-hide="goalExpired" class="col-md-12 col-sm-12 margin-top-5"><p>Target Progress</p><div id="targetGraph"></div></div><div class="col-md-12 col-sm-12 margin-top-10 text-center no-padding"><a class="target_button green_button" ng-click="updateGoalDetails(demography.weight)">Update Goal</a> <span ng-show="viewGraphButton"><a class="target_button orange_button" ng-click="doGetWeightLogGraph()">View Graph</a></span> <a class="target_button red_button" ng-click="deteteGoal()">Reset Goal</a></div></div><script>Highcharts.Renderer.prototype.symbols.line = function(x, y, width, height) {
        return ['M',x ,y + width / 2,'L',x+height,y + width / 2];
    };
    //-------------------------------------------------------
    Highcharts.setOptions({
        credits:{enabled:false},
        exporting:{enabled:false},
        legend:{enabled:false},
        title:{text:''},
        xAxis:{
            lineColor:'#999',
            lineWidth:1,
            labels:{style:{fontWeight:'bold'}}
        },
        yAxis:{
            tickColor:'#ccc',
            endOnTick:true,
            title:{
                text: ''
            },
            labels:{
                style:{
                    fontSize:'8px'
                }
            }
        },
        tooltip:{
            enabled:true,
            backgroundColor:'rgba(255, 255, 255, 1)',
            borderWidth:0,
            shadow:true,
            style:{fontSize:'10px',padding:2},
            formatter:function() {
                return this.series.name + ": <strong>" + Highcharts.numberFormat(this.y,2) +" Kgs"+ "</strong>";
            }
        },
        plotOptions:{
            bar:{
                color:'#f8ba01',
                shadow:false,
                borderWidth:0
            },
            scatter:{
                marker:{
                    symbol:'line',
                    lineWidth:3,
                    radius:8,
                    lineColor:'#ff0000'
                }
            }
        }
    });

    //-------------------------------------------------------
    function refreshGraph() {
        var targetchart = new Highcharts.Chart({
            chart:{renderTo:'targetGraph',
                margin:[5,30,20,70]
            },
            xAxis:{categories:['Weight']},
            yAxis:{
                labels:{y:10,style:{fontSize:'8px'}},
                plotBands:[{color: 'rgba(103,103,103,.35)'}]
            },
            series:[{name:'Current Weight',type: 'bar',pointWidth:10,data:[currentweight]},
                {name:'Target Weight',type: 'scatter',data:[targetweight]}]
        });
    }

    var targetchart = new Highcharts.Chart({
        chart:{renderTo:'targetGraph',
            margin:[5,30,20,70]
        },
        xAxis:{categories:['Weight']},
        yAxis:{
            labels:{y:10,style:{fontSize:'8px'}},
            plotBands:[{color: 'rgba(103,103,103,.35)'}]
        },
        series:[{name:'Current Weight',type: 'bar',pointWidth:10,data:[currentweight]},
            {name:'Target Weight',type: 'scatter',data:[targetweight]}]
    });</script>