describe("Using ID",function(){beforeEach(function(){$("body").append('<div id="star"></div>')}),afterEach(function(){$("#star").remove()}),it("should chainable",function(){var a=$("#star"),b="my-class";a.raty().addClass(b),expect(a).toHaveClass(b)}),it("should change the path",function(){var a=$("#star");a.raty({path:"../img"});var b=a.children("img");expect(b.eq(0)).toHaveAttr("src","../img/star-off.png"),expect(b.eq(1)).toHaveAttr("src","../img/star-off.png"),expect(b.eq(2)).toHaveAttr("src","../img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","../img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","../img/star-off.png")}),it("should create the default stars",function(){var a=$("#star");a.raty();var b=a.children("img");expect(b.eq(0)).toHaveAttr("title","bad"),expect(b.eq(1)).toHaveAttr("title","poor"),expect(b.eq(2)).toHaveAttr("title","regular"),expect(b.eq(3)).toHaveAttr("title","good"),expect(b.eq(4)).toHaveAttr("title","gorgeous"),expect(b.eq(0)).toHaveAttr("src","img/star-off.png"),expect(b.eq(1)).toHaveAttr("src","img/star-off.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png"),expect(a.children("input").val()).toEqual("")}),it("should create 7 stars",function(){var a=$("#star");a.raty({number:7});var b=a.children("img");expect(b.eq(0)).toHaveAttr("title","bad"),expect(b.eq(1)).toHaveAttr("title","poor"),expect(b.eq(2)).toHaveAttr("title","regular"),expect(b.eq(3)).toHaveAttr("title","good"),expect(b.eq(4)).toHaveAttr("title","gorgeous"),expect(b.eq(5)).toHaveAttr("title","6"),expect(b.eq(6)).toHaveAttr("title","7"),expect(b.eq(0)).toHaveAttr("src","img/star-off.png"),expect(b.eq(1)).toHaveAttr("src","img/star-off.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png"),expect(b.eq(5)).toHaveAttr("src","img/star-off.png"),expect(b.eq(6)).toHaveAttr("src","img/star-off.png")}),it("should create the score field",function(){var a=$("#star");a.raty();var b=a.children("input");expect(b).toHaveAttr("type","hidden"),expect(b).toHaveAttr("name","score"),expect(b).toHaveValue(0)}),it("should create a custom score name field",function(){var a=$("#star");a.raty({scoreName:"entity.score"});var b=a.children("input");expect(b).toHaveAttr("type","hidden"),expect(b).toHaveAttr("name","entity.score"),expect(b).toHaveValue(0)}),it("should start readOnly with not rated yet message",function(){var a=$("#star");a.raty({readOnly:!0});var b=a.children("img");expect(b.eq(0)).toHaveAttr("title","not rated yet"),expect(b.eq(1)).toHaveAttr("title","not rated yet"),expect(b.eq(2)).toHaveAttr("title","not rated yet"),expect(b.eq(3)).toHaveAttr("title","not rated yet"),expect(b.eq(4)).toHaveAttr("title","not rated yet")}),it("should be started with 3 stars",function(){var a=$("#star");a.raty({score:3});var b=a.children("img");expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-on.png"),expect(b.eq(2)).toHaveAttr("src","img/star-on.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should be started with 3 stars and readOnly",function(){var a=$("#star");a.raty({readOnly:!0,score:3});var b=a.children("img");expect(b.eq(0)).toHaveAttr("title","regular"),expect(b.eq(1)).toHaveAttr("title","regular"),expect(b.eq(2)).toHaveAttr("title","regular"),expect(b.eq(3)).toHaveAttr("title","regular"),expect(b.eq(4)).toHaveAttr("title","regular"),expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-on.png"),expect(b.eq(2)).toHaveAttr("src","img/star-on.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should be hovered 2 stars",function(){var a=$("#star");a.raty();var b=a.children("img");b.eq(1).mouseover(),expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-on.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should be clicked 2 stars",function(){var a=$("#star");a.raty();var b=a.children("img");b.eq(1).mouseover().click().mouseleave(),expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-on.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png"),expect(a.children("input")).toHaveValue(2)}),it("should not be hovered with readOnly",function(){var a=$("#star");a.raty({readOnly:!0});var b=a.children("img");b.eq(1).mouseover(),expect(b.eq(0)).toHaveAttr("src","img/star-off.png"),expect(b.eq(1)).toHaveAttr("src","img/star-off.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should not be clicked with readOnly",function(){var a=$("#star");a.raty({readOnly:!0});var b=a.children("img");b.eq(1).mouseover().click().mouseleave(),expect(b.eq(0)).toHaveAttr("src","img/star-off.png"),expect(b.eq(1)).toHaveAttr("src","img/star-off.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png"),expect(a.children("input").val()).toEqual("")}),it("should execute click callback",function(){var a=$("#star");a.raty({click:function(a,b){$(this).attr("title",a)}}),a.children("img").eq(3).mouseover().click().mouseleave(),expect(a).toHaveAttr("title",4)}),it("should have this as self element",function(){var a=$("#star");a.raty({click:function(a,b){$(this).attr("title",a)}}),a.children("img").eq(3).mouseover().click().mouseleave(),expect(a).toHaveAttr("title",4)}),it("should create default cancel button",function(){var a=$("#star");a.raty({cancel:!0});var b=a.children("img:first");expect(b).toHaveClass("raty-cancel"),expect(b).toHaveAttr("title","cancel this rating!"),expect(b).toHaveAttr("alt","x"),expect(b).toHaveAttr("src","img/cancel-off.png")}),it("should change cancel off button",function(){var a=$("#star");a.raty({cancel:!0,cancelOff:"new-cancel-off.png"});var b=a.children("img:first");expect(b).toHaveClass("raty-cancel"),expect(b).toHaveAttr("title","cancel this rating!"),expect(b).toHaveAttr("alt","x"),expect(b).toHaveAttr("src","img/new-cancel-off.png")}),it("should change cancel on button",function(){var a=$("#star");a.raty({cancel:!0,cancelOn:"new-cancel-on.png"});var b=a.children("img:first").mouseenter();expect(b).toHaveClass("raty-cancel"),expect(b).toHaveAttr("title","cancel this rating!"),expect(b).toHaveAttr("alt","x"),expect(b).toHaveAttr("src","img/new-cancel-on.png")}),it("should change cancel hint",function(){var a=$("#star");a.raty({cancel:!0,cancelHint:"my-hint"});var b=a.children("img:first").mouseenter();expect(b).toHaveAttr("title","my-hint")}),it("should turn off the stars on mouseover on cancel button",function(){var a=$("#star").raty({score:3,cancel:!0}),b=a.children("img");a.children("img:first").mouseenter(),expect(b.eq(1)).toHaveAttr("src","img/star-off.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png"),expect(b.eq(5)).toHaveAttr("src","img/star-off.png")}),it("should display noRatedMsg when readOnly",function(){var a=$("#star");a.raty({readOnly:!0});var b=a.children("img");expect(b.eq(0)).toHaveAttr("title","not rated yet"),expect(b.eq(1)).toHaveAttr("title","not rated yet"),expect(b.eq(2)).toHaveAttr("title","not rated yet"),expect(b.eq(3)).toHaveAttr("title","not rated yet"),expect(b.eq(4)).toHaveAttr("title","not rated yet")}),it("should cancel the rating",function(){var a=$("#star").raty({score:5,cancel:!0}),b=a.children("img");a.children("img:first").mouseover().click().mouseleave(),expect(b.eq(1)).toHaveAttr("src","img/star-off.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png"),expect(b.eq(5)).toHaveAttr("src","img/star-off.png")}),it("should create right cancel button",function(){var a=$("#star");a.raty({cancel:!0,cancelPlace:"right"});var b=a.children("img:last");expect(b).toHaveClass("raty-cancel"),expect(b).toHaveAttr("title","cancel this rating!"),expect(b).toHaveAttr("alt","x"),expect(b).toHaveAttr("src","img/cancel-off.png")}),it("should set hint for cancel button",function(){var a=$("#star"),b="remove my rating!";a.raty({cancel:!0,cancelHint:b});var c=a.children("img:first");expect(c).toHaveClass("raty-cancel"),expect(c).toHaveAttr("title",b),expect(c).toHaveAttr("alt","x"),expect(c).toHaveAttr("src","img/cancel-off.png")}),it("should execute cancel click callback",function(){var a=$("#star").raty({cancel:!0,click:function(a,b){$(this).attr("title",null===a)}});a.children("img:first").mouseover().click().mouseleave(),expect(a).toHaveAttr("title","true"),expect(a.children("input").val()).toEqual("")}),it("should round down on max limit down with no half and halfShow",function(){var a=$("#star");a.raty({half:!1,halfShow:!1,score:1.5});var b=a.children("img");expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-off.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should round up on min limit up with no half and halfShow",function(){var a=$("#star");a.raty({half:!1,halfShow:!1,score:1.6});var b=a.children("img");expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-on.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should round down on max limit down with half and halfShow",function(){var a=$("#star");a.raty({half:!0,halfShow:!0,score:1.25});var b=a.children("img");expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-off.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should show half on min limit half with half and halfShow",function(){var a=$("#star");a.raty({half:!0,halfShow:!0,score:1.26});var b=a.children("img");expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-half.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should show half on max limit half with half and halfShow",function(){var a=$("#star");a.raty({half:!0,halfShow:!0,score:1.75});var b=a.children("img");expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-half.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should show round up on min limit up with half and halfShow",function(){var a=$("#star");a.raty({half:!0,halfShow:!0,score:1.76});var b=a.children("img");expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-on.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should round down on max limit down with half and no halfShow",function(){var a=$("#star");a.raty({half:!0,halfShow:!1,score:1.25});var b=a.children("img");expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-off.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should round down on min limit half with half and no halfShow",function(){var a=$("#star");a.raty({half:!0,halfShow:!1,score:1.26});var b=a.children("img");expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-off.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should round up on max limit half with half and no halfShow",function(){var a=$("#star");a.raty({half:!0,halfShow:!1,score:1.75});var b=a.children("img");expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-on.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should round up on min limit up with half and no halfShow",function(){var a=$("#star");a.raty({half:!0,halfShow:!1,score:1.76});var b=a.children("img");expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-on.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should round down on max limit down with no half and halfShow",function(){var a=$("#star");a.raty({half:!1,halfShow:!0,score:1.25});var b=a.children("img");expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-off.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should show half on min limit half with no half and halfShow",function(){var a=$("#star");a.raty({half:!1,halfShow:!0,score:1.26});var b=a.children("img");expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-half.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should show half on max limit half with no half and halfShow",function(){var a=$("#star");a.raty({half:!1,halfShow:!0,score:1.75});var b=a.children("img");expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-half.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should show round up on min limit up with no half and halfShow",function(){var a=$("#star");a.raty({half:!1,halfShow:!0,score:1.76});var b=a.children("img");expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-on.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should set custom hints",function(){var a=$("#star");a.raty({hints:["a","",null,"d","5"]});var b=a.children("img");expect(b.eq(0)).toHaveAttr("title","a"),expect(b.eq(1)).toHaveAttr("title",""),expect(b.eq(2)).toHaveAttr("title",3),expect(b.eq(3)).toHaveAttr("title","d"),expect(b.eq(4)).toHaveAttr("title","5")}),it("should change the star off",function(){var a=$("#star");a.raty({starOff:"medal-off.png"});var b=a.children("img");expect(b.eq(0)).toHaveAttr("src","img/medal-off.png"),expect(b.eq(1)).toHaveAttr("src","img/medal-off.png"),expect(b.eq(2)).toHaveAttr("src","img/medal-off.png"),expect(b.eq(3)).toHaveAttr("src","img/medal-off.png"),expect(b.eq(4)).toHaveAttr("src","img/medal-off.png")}),it("should change the star on",function(){var a=$("#star");a.raty({starOn:"medal-on.png"});var b=a.children("img");b.eq(3).mouseover(),expect(b.eq(0)).toHaveAttr("src","img/medal-on.png"),expect(b.eq(1)).toHaveAttr("src","img/medal-on.png"),expect(b.eq(2)).toHaveAttr("src","img/medal-on.png"),expect(b.eq(3)).toHaveAttr("src","img/medal-on.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should use range icons",function(){var a=$("#star");a.raty({iconRange:[{range:2,on:"face-a.png",off:"face-a-off.png"},{range:3,on:"face-b.png",off:"face-b-off.png"},{range:4,on:"face-c.png",off:"face-c-off.png"},{range:5,on:"face-d.png",off:"face-d-off.png"}]});var b=a.children("img");expect(b.eq(0)).toHaveAttr("src","img/face-a-off.png"),expect(b.eq(1)).toHaveAttr("src","img/face-a-off.png"),expect(b.eq(2)).toHaveAttr("src","img/face-b-off.png"),expect(b.eq(3)).toHaveAttr("src","img/face-c-off.png"),expect(b.eq(4)).toHaveAttr("src","img/face-d-off.png")}),it("should use range icons and apply not found icons default",function(){var a=$("#star");a.raty({iconRange:[{range:2,off:"face-a-off.png"},{range:3,off:"face-b-off.png"},{range:4,on:"face-c.png",off:"face-c-off.png"},{range:5}]});var b=a.children("img");b.eq(3).mouseover(),expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-on.png"),expect(b.eq(2)).toHaveAttr("src","img/star-on.png"),expect(b.eq(3)).toHaveAttr("src","img/face-c.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should hover range icons",function(){var a=$("#star");a.raty({iconRange:[{range:2,on:"face-a.png",off:"face-a-off.png"},{range:3,on:"face-b.png",off:"face-b-off.png"},{range:4,on:"face-c.png",off:"face-c-off.png"},{range:5,on:"face-d.png",off:"face-d-off.png"}],starOff:"face-off.png"});var b=a.children("img");b.eq(4).mouseover(),expect(b.eq(0)).toHaveAttr("src","img/face-a.png"),expect(b.eq(1)).toHaveAttr("src","img/face-a.png"),expect(b.eq(2)).toHaveAttr("src","img/face-b.png"),expect(b.eq(3)).toHaveAttr("src","img/face-c.png"),expect(b.eq(4)).toHaveAttr("src","img/face-d.png")}),it("should set off range icons on mouseleave",function(){var a=$("#star");a.raty({iconRange:[{range:2,on:"face-a.png",off:"face-a-off.png"},{range:3,on:"face-b.png",off:"face-b-off.png"},{range:4,on:"face-c.png",off:"face-c-off.png"},{range:5,on:"face-d.png",off:"face-d-off.png"}],starOff:"face-off.png"});var b=a.children("img");b.eq(4).mouseover(),a.mouseleave(),expect(b.eq(0)).toHaveAttr("src","img/face-a-off.png"),expect(b.eq(1)).toHaveAttr("src","img/face-a-off.png"),expect(b.eq(2)).toHaveAttr("src","img/face-b-off.png"),expect(b.eq(3)).toHaveAttr("src","img/face-c-off.png"),expect(b.eq(4)).toHaveAttr("src","img/face-d-off.png")}),it("should keep the score value range icons on mouseleave",function(){var a=$("#star");a.raty({iconRange:[{range:2,on:"face-a.png",off:"face-a-off.png"},{range:3,on:"face-b.png",off:"face-b-off.png"},{range:4,on:"face-c.png",off:"face-c-off.png"},{range:5,on:"face-d.png",off:"face-d-off.png"}],starOff:"face-off.png",score:1});var b=a.children("img");b.eq(4).mouseover(),a.mouseleave(),expect(b.eq(0)).toHaveAttr("src","img/face-a.png"),expect(b.eq(1)).toHaveAttr("src","img/face-a-off.png"),expect(b.eq(2)).toHaveAttr("src","img/face-b-off.png"),expect(b.eq(3)).toHaveAttr("src","img/face-c-off.png"),expect(b.eq(4)).toHaveAttr("src","img/face-d-off.png")}),it("should calculate the right icon size",function(){var a=$("#star"),b=24,c=5;a.raty({size:b}),expect(a.width()).toEqual(c*b+4*c)}),it("should set custom width",function(){var a=$("#star"),b=24;a.raty({size:b,width:200}),expect(a.width()).toEqual(200)}),it("should set custom width when readOnly",function(){var a=$("#star"),b=24;a.raty({readOnly:!0,size:b,width:200}),expect(a.width()).toEqual(200)}),it("should calculate the right icon size with cancel button",function(){var a=$("#star"),b=24,c=5;a.raty({cancel:!0,size:b}),expect(a.width()).toEqual(c*b+4*c+(b+4))}),it("should set a target on div with mouseover",function(){$("body").append('<div id="hint"></div>');var a=$("#hint"),b=$("#star").raty({target:"#hint"});b.children("img").eq(3).mouseover(),expect(a).toHaveHtml("good"),a.remove()}),it("should set a target on div with mouseover but take off when mouseleave",function(){$("body").append('<div id="hint"></div>');var a=$("#hint"),b=$("#star").raty({target:"#hint"});b.children("img").eq(3).mouseover().mouseleave(),expect(a).toBeEmpty(),a.remove()}),it("should change the cancel hint using target",function(){$("body").append('<div id="hint"></div>');var a=$("#hint"),b=$("#star").raty({cancel:!0,cancelHint:"none",target:"#hint"});b.children("img:first").mouseenter(),expect(a).toHaveHtml("none"),a.remove()}),it("should set hint on a combobox element",function(){$("body").append('<select id="hint"><option value="">--</option><option value="good">good</option></select>');var a=$("#hint"),b=$("#star").raty({target:"#hint"});b.children("img").eq(3).mouseover(),expect(a.val()).toEqual("good"),a.remove()}),it("should set hint on a text element",function(){$("body").append('<input id="hint" type="text" />');var a=$("#hint"),b=$("#star").raty({target:"#hint"});b.children("img").eq(3).mouseover(),expect(a.val()).toEqual("good"),a.remove()}),it("should set hint on a textarea element",function(){$("body").append('<textarea id="hint"></textarea>');var a=$("#hint"),b=$("#star").raty({target:"#hint"});b.children("img").eq(3).mouseover(),expect(a.val()).toEqual("good"),a.remove()}),it("should set number hint on a combobox element",function(){$("body").append('<select id="hint"><option value="">--</option><option value="4">4</option></select>');var a=$("#hint"),b=$("#star").raty({target:"#hint",targetType:"number"});b.children("img").eq(3).mouseover(),expect(a.val()).toEqual("4"),a.remove()}),it("should set number hint and keep it on mouseleave",function(){$("body").append('<select id="hint"><option value="">--</option><option value="4">4</option></select>');var a=$("#hint"),b=$("#star").raty({target:"#hint",targetType:"number",targetKeep:!0});b.children("img").eq(3).mouseover().click().mouseleave(),expect(a.val()).toEqual("4"),a.remove()}),it("should create stars without space",function(){var a=$("#star");size=16,number=5,a.raty({space:!1}),expect(a.width()).toEqual(number*size+0*number)}),it("should create stars with cancel without space",function(){var a=$("#star");size=16,number=5,a.raty({cancel:!0,space:!1}),expect(a.width()).toEqual(number*size+0*number+16+0)}),it("should not set target with targetText when has started score and targetKeep is true with mouseout",function(){$("body").append('<div id="hint"></div>');var a=$("#hint"),b=$("#star").raty({score:3,target:"#hint",targetKeep:!0,targetText:"my-hint-message"});b.children("img").eq(3).mouseover().mouseleave(),expect(a).toHaveHtml("regular"),a.remove()}),it("should not set target with targetText when has clicked score and targetKeep is true with mouseout",function(){$("body").append('<div id="hint"></div>');var a=$("#hint"),b=$("#star").raty({target:"#hint",targetKeep:!0,targetText:"my-hint-message"});b.children("img").eq(3).mouseover().click().mouseleave(),expect(a).toHaveHtml("good"),a.remove()}),it("should set target with targetText when has scoreed score and targetKeep is false with mouseout",function(){$("body").append('<div id="hint"></div>');var a="my-hint-message",b=$("#hint"),c=$("#star").raty({score:3,target:"#hint",targetKeep:!1,targetText:a});c.children("img").eq(3).mouseover().mouseleave(),expect(b).toHaveHtml(a),b.remove()}),it("should set target with targetText when has clicked score and targetKeep false with mouseout",function(){$("body").append('<div id="hint"></div>');var a="my-hint-message",b=$("#hint"),c=$("#star").raty({target:"#hint",targetKeep:!1,targetText:a});c.children("img").eq(3).mouseover().click().mouseleave(),expect(b).toHaveHtml(a),b.remove()}),it("should set target with targetText when has started score and targetKeep is false without mouseout",function(){$("body").append('<div id="hint"></div>');var a="my-hint-message",b=$("#hint"),c=$("#star");c.raty({score:3,target:"#hint",targetKeep:!1,targetText:a}),expect(b).toHaveHtml(a),b.remove()}),it("should set score as readonly when start with readOnly",function(){var a=$("#star");a.raty({readOnly:!0}),expect(a.children("input")).toHaveAttr("readonly","readonly")}),it("should be down with round option",function(){var a=$("#star");a.raty({halfShow:!0,score:1.9,round:{down:.9,full:.98,up:.99}});var b=a.children("img");expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-off.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should be half with round option",function(){var a=$("#star");a.raty({halfShow:!0,score:1.91,round:{down:.9,full:.98,up:.99}});var b=a.children("img");expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-half.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should be up with round option",function(){var a=$("#star");a.raty({halfShow:!0,score:1.99,round:{down:.9,full:.98,up:.99}});var b=a.children("img");expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-on.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should be full with round option and halfShow off",function(){var a=$("#star");a.raty({halfShow:!1,score:1.98,round:{down:.9,full:.98,up:.99}});var b=a.children("img");expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-on.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should be down with round option and others options default",function(){var a=$("#star");a.raty({halfShow:!0,score:1.9,round:{down:.9}});var b=a.children("img");expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-off.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should be half with round option and others options default",function(){var a=$("#star");a.raty({halfShow:!0,score:1.26,round:{}});var b=a.children("img");expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-half.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should be up with round option and others options default",function(){var a=$("#star");a.raty({halfShow:!0,score:1.99,round:{up:.99}});var b=a.children("img");expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-on.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should be full with round option and halfShow off and others options default",function(){var a=$("#star");a.raty({halfShow:!1,score:1.98,round:{full:.98}});var b=a.children("img");expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-on.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should set hint target with start option and targetKeep true",function(){$("body").append('<div id="hint"></div>');var a=$("#hint"),b=$("#star");b.raty({target:"#hint",precision:!0,score:3,targetKeep:!0}),expect(a).toHaveHtml("regular"),a.remove()}),it("should set precision number target with just one fractional number",function(){$("body").append('<div id="hint"></div>');var a=$("#hint"),b=$("#star");b.raty({target:"#hint",precision:!0,targetType:"number",score:1.2333,targetKeep:!0}),expect(a).toHaveHtml("1.2"),a.remove()}),it("should set precision number target with start options and targetKeep true",function(){$("body").append('<div id="hint"></div>');var a=$("#hint"),b=$("#star");b.raty({target:"#hint",precision:!0,targetType:"number",score:1.2,targetKeep:!0}),expect(a).toHaveHtml("1.2"),a.remove()}),it("should set target with format on mouseover",function(){$("body").append('<div id="hint"></div>');var a=$("#hint"),b=$("#star").raty({target:"#hint",targetFormat:"score: {score}",precision:!0});b.children("img:first").mouseover(),expect(a).toHaveHtml("score: bad"),a.remove()}),it("should set score with precision and half disabled",function(){$("body").append('<div id="hint"></div>');var a=$("#hint"),b=$("#star").raty({target:"#hint",targetKeep:!0,precision:!0});b.children("img:first").mouseover().click().mouseleave(),expect(a).toHaveHtml("bad"),a.remove()}),it("should set and keep target with format on click and mouseleave",function(){$("body").append('<div id="hint"></div>');var a=$("#hint"),b=$("#star").raty({target:"#hint",targetFormat:"score: {score}",targetKeep:!0});b.children("img:first").mouseover().click().mouseleave(),expect(a).toHaveHtml("score: bad"),a.remove()}),it("should set target with format and precision",function(){$("body").append('<div id="hint"></div>');var a=$("#hint"),b=$("#star");b.raty({target:"#hint",targetFormat:"score: {score}",targetKeep:!0,targetType:"number",precision:!0,score:1.2}),expect(a).toHaveHtml("score: 1.2"),a.remove()}),it("should set target with none value",function(){$("body").append('<div id="hint"></div>');var a=$("#hint"),b=$("#star");b.raty({target:"#hint",targetFormat:"score: {score}",targetKeep:!0,targetType:"number",targetText:"none"}),expect(a).toHaveHtml("score: none"),a.remove()}),it("should not to use format template on cancel mouseover",function(){$("body").append('<div id="hint"></div>');var a=$("#hint"),b=$("#star").raty({cancel:!0,target:"#hint",targetFormat:"score: {score}",targetKeep:!0});b.children("img:first").mouseenter(),expect(a).toHaveHtml("cancel this rating!"),a.remove()}),it("should show single icon selection on mouseover",function(){var a=$("#star");a.raty({single:!0});var b=a.children("img");b.eq(2).mouseover(),expect(b.eq(0)).toHaveAttr("src","img/star-off.png"),expect(b.eq(1)).toHaveAttr("src","img/star-off.png"),expect(b.eq(2)).toHaveAttr("src","img/star-on.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should show single icon selection on click",function(){var a=$("#star");a.raty({single:!0});var b=a.children("img");b.eq(2).mouseover().click().mouseleave(),expect(b.eq(0)).toHaveAttr("src","img/star-off.png"),expect(b.eq(1)).toHaveAttr("src","img/star-off.png"),expect(b.eq(2)).toHaveAttr("src","img/star-on.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should show single icon selection with iconRange enabled on mouseover",function(){var a=$("#star");a.raty({iconRange:[{range:2,on:"face-a.png",off:"face-a-off.png"},{range:3,on:"face-b.png",off:"face-b-off.png"},{range:4,on:"face-c.png",off:"face-c-off.png"},{range:5,on:"face-d.png",off:"face-d-off.png"}],single:!0});var b=a.children("img");b.eq(3).mouseover(),expect(b.eq(0)).toHaveAttr("src","img/face-a-off.png"),expect(b.eq(1)).toHaveAttr("src","img/face-a-off.png"),expect(b.eq(2)).toHaveAttr("src","img/face-b-off.png"),expect(b.eq(3)).toHaveAttr("src","img/face-c.png"),expect(b.eq(4)).toHaveAttr("src","img/face-d-off.png")}),it("should show single icon selection with iconRange enabled on click",function(){var a=$("#star");a.raty({iconRange:[{range:2,on:"face-a.png",off:"face-a-off.png"},{range:3,on:"face-b.png",off:"face-b-off.png"},{range:4,on:"face-c.png",
off:"face-c-off.png"},{range:5,on:"face-d.png",off:"face-d-off.png"}],single:!0});var b=a.children("img");b.eq(3).mouseover().click().mouseleave(),expect(b.eq(0)).toHaveAttr("src","img/face-a-off.png"),expect(b.eq(1)).toHaveAttr("src","img/face-a-off.png"),expect(b.eq(2)).toHaveAttr("src","img/face-b-off.png"),expect(b.eq(3)).toHaveAttr("src","img/face-c.png"),expect(b.eq(4)).toHaveAttr("src","img/face-d-off.png")}),it("score should get it as int",function(){var a=$("#star").raty({score:1}),b=a.raty("score");expect(b).toEqual(1)}),it("score should get it as float",function(){var a=$("#star").raty({score:1.5}),b=a.raty("score");expect(b).toEqual(1.5)}),it("[score] should not have score when it is setted to 0",function(){var a=$("#star").raty({score:0}),b=a.raty("score");expect(b).toEqual(null)}),it("[score] should have 20 as max",function(){var a=$("#star").raty({number:30,score:30}),b=a.raty("score");expect(b).toEqual(20)}),it("[score] should have 0 as min",function(){var a=$("#star").raty({score:-30}),b=a.raty("score");expect(b).toEqual(null)}),it("[set] should be chainable",function(){var a=$("#star").raty(),b="some-class",c=a.raty("set",{readOnly:!0}).addClass(b);expect(c).toHaveClass(b)}),it("[set] should change just the passed parameters",function(){var a=$("#star").raty({number:6});a.raty("set",{scoreName:"changed"});var b=$("#star");expect(b.children("input")).toHaveAttr("name","changed"),expect(b.children("img").length).toEqual(6)}),it("[reload] should be chainable",function(){var a=$("#star").raty(),b="some-class",c=a.raty("reload").addClass(b);expect(c).toHaveClass(b)}),it("[reload] should reload with same configuration",function(){var a=$("#star").raty({number:6});a.raty("reload"),expect($("#star").children("img").length).toEqual(6)}),it("[mouseover] should display the value",function(){$("body").append('<div id="hint"></div>');var a=$("#hint"),b=$("#star").raty({mouseover:function(b,c){a.html(b)}});b.children("img:eq(1)").mouseover(),expect(a).toHaveHtml(2),a.remove()}),it("[mouseover] should display the cancel value",function(){$("body").append('<div id="hint"></div>');var a=$("#hint"),b=$("#star").raty({cancel:!0,mouseover:function(b,c){a.html(null===b?"null":b)}});b.children(".raty-cancel").mouseover(),expect(a).toHaveHtml("null"),a.remove()}),it("[mouseover] should pass the original value on cancel mouseout",function(){$("body").append('<div id="hint"></div>');var a=$("#hint"),b=$("#star").raty({cancel:!0,score:1,mouseover:function(b,c){a.html(null===b?"null":b)}});b.children(".raty-cancel").mouseenter().mouseleave(),expect(a).toHaveHtml(1),a.remove()}),it("[mouseover] should pass the original value on star mouseout",function(){$("body").append('<div id="hint"></div>');var a=$("#hint"),b=$("#star").raty({score:1,cancel:!0,mouseover:function(b,c){a.html(b)}});b.children("img:eq(4)").mouseover().mouseleave(),expect(a).toHaveHtml(1),a.remove()}),it("[score] should accept int string",function(){var a=$("#star");a.raty({number:10,score:"10"}),expect(a.children("input")).toHaveValue(10)}),it("[score] should accept float string",function(){var a=$("#star");a.raty({number:11,score:"10.5"}),expect(a.children("input")).toHaveValue(10.5)}),it("[number] should accept string",function(){var a=$("#star");a.raty({number:"10"}),expect(a.children("img").length).toEqual(10)}),it("[mouseover] handle null on cancel over",function(){var a=!0,b=$("#star").raty({cancel:!0,mouseover:function(b,c){a&&(expect(null===b).toBeTruthy(),a=!1)}});b.children(".raty-cancel").mouseover()}),it("[mouseover] handle undefined on mouse out of cancel",function(){var a=!1,b=$("#star").raty({cancel:!0,mouseover:function(b,c){a&&expect(void 0===b).toBeTruthy(),a=!0}});b.children(".raty-cancel").mouseleave()}),it("[mouseover] handle undefined on star out",function(){var a=!1,b=$("#star").raty({mouseover:function(b,c){a&&expect(void 0===b).toBeTruthy(),a=!0}});b.children("img:first").mouseleave()}),it("[mouseover] handle 1 on star out",function(){var a=!1,b=$("#star").raty({score:1,mouseover:function(b,c){a&&expect(b).toEqual(1),a=!0}});b.children("img:first").mouseleave()}),it("[mouseover] handle 1 on cancel out",function(){var a=!1,b=$("#star").raty({cancel:!0,score:1,mouseover:function(b,c){a&&expect(parseInt(b)).toEqual(1),a=!0}});b.children(".raty-cancel").mouseleave()})}),describe("Using class",function(){beforeEach(function(){$("body").append('<div class="star"></div><div class="star"></div><div class="star"></div>')}),afterEach(function(){$(".star").remove()}),it("should create the default stars",function(){var a=$(".star");a.raty();var b=a.eq(0).children("img"),c=a.eq(1).children("img"),d=a.eq(2).children("img");expect(b.eq(0)).toHaveAttr("title","bad"),expect(b.eq(1)).toHaveAttr("title","poor"),expect(b.eq(2)).toHaveAttr("title","regular"),expect(b.eq(3)).toHaveAttr("title","good"),expect(b.eq(4)).toHaveAttr("title","gorgeous"),expect(b.eq(0)).toHaveAttr("src","img/star-off.png"),expect(b.eq(1)).toHaveAttr("src","img/star-off.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png"),expect(c.eq(0)).toHaveAttr("title","bad"),expect(c.eq(1)).toHaveAttr("title","poor"),expect(c.eq(2)).toHaveAttr("title","regular"),expect(c.eq(3)).toHaveAttr("title","good"),expect(c.eq(4)).toHaveAttr("title","gorgeous"),expect(c.eq(0)).toHaveAttr("src","img/star-off.png"),expect(c.eq(1)).toHaveAttr("src","img/star-off.png"),expect(c.eq(2)).toHaveAttr("src","img/star-off.png"),expect(c.eq(3)).toHaveAttr("src","img/star-off.png"),expect(c.eq(4)).toHaveAttr("src","img/star-off.png"),expect(d.eq(0)).toHaveAttr("title","bad"),expect(d.eq(1)).toHaveAttr("title","poor"),expect(d.eq(2)).toHaveAttr("title","regular"),expect(d.eq(3)).toHaveAttr("title","good"),expect(d.eq(4)).toHaveAttr("title","gorgeous"),expect(d.eq(0)).toHaveAttr("src","img/star-off.png"),expect(d.eq(1)).toHaveAttr("src","img/star-off.png"),expect(d.eq(2)).toHaveAttr("src","img/star-off.png"),expect(d.eq(3)).toHaveAttr("src","img/star-off.png"),expect(d.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should select first raty",function(){var a=$(".star").raty(),b=a.eq(0).children("img"),c=a.eq(1).children("img"),d=a.eq(2).children("img");b.eq(3).mouseover(),expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-on.png"),expect(b.eq(2)).toHaveAttr("src","img/star-on.png"),expect(b.eq(3)).toHaveAttr("src","img/star-on.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png"),expect(c.eq(0)).toHaveAttr("src","img/star-off.png"),expect(c.eq(1)).toHaveAttr("src","img/star-off.png"),expect(c.eq(2)).toHaveAttr("src","img/star-off.png"),expect(c.eq(3)).toHaveAttr("src","img/star-off.png"),expect(c.eq(4)).toHaveAttr("src","img/star-off.png"),expect(d.eq(0)).toHaveAttr("src","img/star-off.png"),expect(d.eq(1)).toHaveAttr("src","img/star-off.png"),expect(d.eq(2)).toHaveAttr("src","img/star-off.png"),expect(d.eq(3)).toHaveAttr("src","img/star-off.png"),expect(d.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should click second raty",function(){var a=$(".star").raty(),b=a.eq(0).children("img"),c=a.eq(1).children("img"),d=a.eq(2).children("img");c.eq(3).mouseover().click().mouseleave(),expect(b.eq(0)).toHaveAttr("src","img/star-off.png"),expect(b.eq(1)).toHaveAttr("src","img/star-off.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png"),expect(c.eq(0)).toHaveAttr("src","img/star-on.png"),expect(c.eq(1)).toHaveAttr("src","img/star-on.png"),expect(c.eq(2)).toHaveAttr("src","img/star-on.png"),expect(c.eq(3)).toHaveAttr("src","img/star-on.png"),expect(c.eq(4)).toHaveAttr("src","img/star-off.png"),expect(d.eq(0)).toHaveAttr("src","img/star-off.png"),expect(d.eq(1)).toHaveAttr("src","img/star-off.png"),expect(d.eq(2)).toHaveAttr("src","img/star-off.png"),expect(d.eq(3)).toHaveAttr("src","img/star-off.png"),expect(d.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should click on first and third raty",function(){var a=$(".star").raty(),b=a.eq(0).children("img"),c=a.eq(1).children("img"),d=a.eq(2).children("img");b.eq(3).mouseover().click().mouseleave(),d.eq(3).mouseover().click().mouseleave(),expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-on.png"),expect(b.eq(2)).toHaveAttr("src","img/star-on.png"),expect(b.eq(3)).toHaveAttr("src","img/star-on.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png"),expect(c.eq(0)).toHaveAttr("src","img/star-off.png"),expect(c.eq(1)).toHaveAttr("src","img/star-off.png"),expect(c.eq(2)).toHaveAttr("src","img/star-off.png"),expect(c.eq(3)).toHaveAttr("src","img/star-off.png"),expect(c.eq(4)).toHaveAttr("src","img/star-off.png"),expect(d.eq(0)).toHaveAttr("src","img/star-on.png"),expect(d.eq(1)).toHaveAttr("src","img/star-on.png"),expect(d.eq(2)).toHaveAttr("src","img/star-on.png"),expect(d.eq(3)).toHaveAttr("src","img/star-on.png"),expect(d.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should hover all and out",function(){var a=$(".star").raty(),b=a.eq(0).children("img"),c=a.eq(1).children("img"),d=a.eq(2).children("img");b.eq(1).mouseover().mouseleave(),c.eq(2).mouseover().mouseleave(),d.eq(3).mouseover().mouseleave(),expect(b.eq(0)).toHaveAttr("src","img/star-off.png"),expect(b.eq(1)).toHaveAttr("src","img/star-off.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png"),expect(c.eq(0)).toHaveAttr("src","img/star-off.png"),expect(c.eq(1)).toHaveAttr("src","img/star-off.png"),expect(c.eq(2)).toHaveAttr("src","img/star-off.png"),expect(c.eq(3)).toHaveAttr("src","img/star-off.png"),expect(c.eq(4)).toHaveAttr("src","img/star-off.png"),expect(d.eq(0)).toHaveAttr("src","img/star-off.png"),expect(d.eq(1)).toHaveAttr("src","img/star-off.png"),expect(d.eq(2)).toHaveAttr("src","img/star-off.png"),expect(d.eq(3)).toHaveAttr("src","img/star-off.png"),expect(d.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should set score as readonly when start with readOnly",function(){var a=$(".star");a.eq(0).raty({readOnly:!0}),a.eq(1).raty({readOnly:!0}),a.eq(2).raty({readOnly:!0}),expect(a.eq(0).children("input")).toHaveAttr("readonly","readonly"),expect(a.eq(1).children("input")).toHaveAttr("readonly","readonly"),expect(a.eq(2).children("input")).toHaveAttr("readonly","readonly")}),it("score should get it as int",function(){var a=$(".star");a.eq(0).raty({score:1}),a.eq(1).raty({score:2}),a.eq(2).raty({score:3});var b=a.eq(0).raty("score"),c=a.eq(1).raty("score"),d=a.eq(2).raty("score");expect(b).toEqual(1),expect(c).toEqual(2),expect(d).toEqual(3)}),it("score should get it as float",function(){var a=$(".star");a.eq(0).raty({score:1.1}),a.eq(1).raty({score:2.2}),a.eq(2).raty({score:3.3});var b=a.eq(0).raty("score"),c=a.eq(1).raty("score"),d=a.eq(2).raty("score");expect(b).toEqual(1.1),expect(c).toEqual(2.2),expect(d).toEqual(3.3)})}),describe("Using function with id",function(){beforeEach(function(){$("body").append('<div id="star"></div>')}),afterEach(function(){$("#star").remove()}),it("should start the start with 3 stars",function(){var a=$("#star").raty();a.raty("score",3);var b=a.children("img");expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-on.png"),expect(b.eq(2)).toHaveAttr("src","img/star-on.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should not call click callback when start function run without true option",function(){var a=$("#star").raty({click:function(a,b){$(this).attr("title",a)}});a.raty("score",3);var b=a.children("img");expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-on.png"),expect(b.eq(2)).toHaveAttr("src","img/star-on.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png"),expect(a.attr("title")).toEqual(void 0)}),it("should set readOnly and fix the hints",function(){var a=$("#star").raty({score:1});a.raty("readOnly",!0);var b=a.children("img");b.eq(3).mouseover().click(),expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-off.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png"),expect(b.eq(0)).toHaveAttr("title","bad"),expect(b.eq(1)).toHaveAttr("title","bad"),expect(b.eq(2)).toHaveAttr("title","bad"),expect(b.eq(3)).toHaveAttr("title","bad"),expect(b.eq(4)).toHaveAttr("title","bad")}),it("should set readOnly and hide cancel button",function(){var a=$("#star").raty({cancel:!0,path:"../img"});a.raty("readOnly",!0),expect(a.children(".raty-cancel")).not.toBeVisible()}),it("should unset readOnly and show cancel button",function(){var a=$("#star").raty({cancel:!0,readOnly:!0,path:"../img"});a.raty("readOnly",!1),expect(a.children(".raty-cancel")).toBeVisible()}),it("should unset readOnly and put back the titles",function(){var a=$("#star").raty();a.raty("readOnly",!0).raty("readOnly",!1);var b=a.children("img");b.eq(1).mouseover().click(),expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-on.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png"),expect(b.eq(0)).toHaveAttr("title","bad"),expect(b.eq(1)).toHaveAttr("title","poor"),expect(b.eq(2)).toHaveAttr("title","regular"),expect(b.eq(3)).toHaveAttr("title","good"),expect(b.eq(4)).toHaveAttr("title","gorgeous")}),it("should cancel without click",function(){var a=$("#star").raty({score:1});a.raty("cancel");var b=a.children("img");expect(b.eq(0)).toHaveAttr("src","img/star-off.png"),expect(b.eq(1)).toHaveAttr("src","img/star-off.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png"),expect(a.children("input").val()).toEqual("")}),it("should cancel with click",function(){var a=$("#star").raty({click:function(a,b){$(this).attr("title",null===a?"null":a)},score:1});a.raty("cancel",!0);var b=a.children("img");expect(b.eq(0)).toHaveAttr("src","img/star-off.png"),expect(b.eq(1)).toHaveAttr("src","img/star-off.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png"),expect(a).toHaveAttr("title","null"),expect(a.children("input").val()).toEqual("")}),it("should click the star 3",function(){var a=$("#star").raty({click:function(a,b){$(this).attr("title",a)}});a.raty("click",3);var b=a.children("img");expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-on.png"),expect(b.eq(2)).toHaveAttr("src","img/star-on.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png"),expect(a).toHaveAttr("title",3)}),it("should set a target on div with mouseover",function(){$("body").append('<div id="hint"></div>');var a=$("#hint"),b=$("#star").raty({target:"#hint",targetKeep:!0,click:function(a,b){}});b.raty("click",4),expect(a).toHaveHtml("good"),a.remove()}),it("should set a target on div with mouseover",function(){$("body").append('<div id="hint"></div>');var a=$("#hint"),b=$("#star").raty({target:"#hint",targetKeep:!0});b.raty("score",4),expect(a).toHaveHtml("good"),a.remove()}),it("should set a target on div with cancel",function(){$("body").append('<div id="hint"></div>');var a=$("#hint"),b=$("#star").raty({cancel:!0,target:"#hint",targetKeep:!0});b.raty("cancel").mouseout(),expect(a).toBeEmpty(),a.remove()}),it("[score / readOnly] should not set score when it is read-only",function(){var a=$("#star").raty({readOnly:!0});a.raty("score",1);var b=a.children("img");expect(b.eq(0)).toHaveAttr("src","img/star-off.png"),expect(b.eq(1)).toHaveAttr("src","img/star-off.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should not click when it is readOnly",function(){var a=$("#star").raty({readOnly:!0,click:function(a,b){}});a.raty("click",1);var b=a.children("img");expect(b.eq(0)).toHaveAttr("src","img/star-off.png"),expect(b.eq(1)).toHaveAttr("src","img/star-off.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should not cancel when it is readOnly",function(){var a=$("#star").raty({readOnly:!0,score:1});a.raty("cancel");var b=a.children("img");expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-off.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png"),expect(a.children("input").val()).toEqual("1")}),it("should set score as readonly when start with readOnly",function(){var a=$("#star").raty();a.raty("readOnly",!0),expect(a.children("input")).toHaveAttr("readonly","readonly")}),it("should set the cancel hint on target",function(){$("body").append('<div id="hint"></div>');var a=$("#hint"),b=$("#star").raty({cancel:!0,target:"#hint",targetFormat:"score: {score}",targetKeep:!0});b.raty("cancel").mouseleave(),expect(a).toHaveHtml("score: "),a.remove()}),it("should rebind the cancel button after readOnly be enabled",function(){var a=$("#star").raty({cancel:!0});a.raty("readOnly",!0).raty("readOnly",!1).children(".raty-cancel").mouseenter();var b=a.children("img").not(".raty-cancel");expect(b.eq(0)).toHaveAttr("src","img/star-off.png"),expect(b.eq(1)).toHaveAttr("src","img/star-off.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png")}),it("[cancel] should cancel after a read-only false",function(){var a=$("#star").raty({score:1}).raty("readOnly",!0).raty("readOnly",!1);a.raty("cancel");var b=a.children("img");expect(b.eq(0)).toHaveAttr("src","img/star-off.png"),expect(b.eq(1)).toHaveAttr("src","img/star-off.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png"),expect(a.children("input").val()).toEqual("")})}),describe("Using function with class",function(){beforeEach(function(){$("body").append('<div class="star"></div><div class="star"></div><div class="star"></div>')}),afterEach(function(){$(".star").remove()}),it("should start the starts with 3 stars",function(){var a=$(".star").raty();a.raty("score",3);var b=a.eq(0).children("img"),c=a.eq(1).children("img"),d=a.eq(2).children("img");expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-on.png"),expect(b.eq(2)).toHaveAttr("src","img/star-on.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png"),expect(c.eq(0)).toHaveAttr("src","img/star-on.png"),expect(c.eq(1)).toHaveAttr("src","img/star-on.png"),expect(c.eq(2)).toHaveAttr("src","img/star-on.png"),expect(c.eq(3)).toHaveAttr("src","img/star-off.png"),expect(c.eq(4)).toHaveAttr("src","img/star-off.png"),expect(d.eq(0)).toHaveAttr("src","img/star-on.png"),expect(d.eq(1)).toHaveAttr("src","img/star-on.png"),expect(d.eq(2)).toHaveAttr("src","img/star-on.png"),expect(d.eq(3)).toHaveAttr("src","img/star-off.png"),expect(d.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should set readOnly and fix the hint",function(){var a=$(".star").raty();a.raty("readOnly",!0);var b=a.eq(0).children("img"),c=a.eq(1).children("img"),d=a.eq(2).children("img");b.eq(3).mouseover().click(),c.eq(3).mouseover().click(),d.eq(3).mouseover().click(),expect(b.eq(0)).toHaveAttr("src","img/star-off.png"),expect(b.eq(1)).toHaveAttr("src","img/star-off.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png"),expect(b.eq(0)).toHaveAttr("title","not rated yet"),expect(b.eq(1)).toHaveAttr("title","not rated yet"),expect(b.eq(2)).toHaveAttr("title","not rated yet"),expect(b.eq(3)).toHaveAttr("title","not rated yet"),expect(b.eq(4)).toHaveAttr("title","not rated yet"),expect(c.eq(0)).toHaveAttr("src","img/star-off.png"),expect(c.eq(1)).toHaveAttr("src","img/star-off.png"),expect(c.eq(2)).toHaveAttr("src","img/star-off.png"),expect(c.eq(3)).toHaveAttr("src","img/star-off.png"),expect(c.eq(4)).toHaveAttr("src","img/star-off.png"),expect(c.eq(0)).toHaveAttr("title","not rated yet"),expect(c.eq(1)).toHaveAttr("title","not rated yet"),expect(c.eq(2)).toHaveAttr("title","not rated yet"),expect(c.eq(3)).toHaveAttr("title","not rated yet"),expect(c.eq(4)).toHaveAttr("title","not rated yet"),expect(d.eq(0)).toHaveAttr("src","img/star-off.png"),expect(d.eq(1)).toHaveAttr("src","img/star-off.png"),expect(d.eq(2)).toHaveAttr("src","img/star-off.png"),expect(d.eq(3)).toHaveAttr("src","img/star-off.png"),expect(d.eq(4)).toHaveAttr("src","img/star-off.png"),expect(d.eq(0)).toHaveAttr("title","not rated yet"),expect(d.eq(1)).toHaveAttr("title","not rated yet"),expect(d.eq(2)).toHaveAttr("title","not rated yet"),expect(d.eq(3)).toHaveAttr("title","not rated yet"),expect(d.eq(4)).toHaveAttr("title","not rated yet")}),it("should unset readOnly and put back the titles",function(){var a=$(".star").raty();a.raty("readOnly",!0).raty("readOnly",!1);var b=a.eq(0).children("img"),c=a.eq(1).children("img"),d=a.eq(2).children("img");b.eq(3).mouseover().click(),c.eq(3).mouseover().click(),d.eq(3).mouseover().click(),expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-on.png"),expect(b.eq(2)).toHaveAttr("src","img/star-on.png"),expect(b.eq(3)).toHaveAttr("src","img/star-on.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png"),expect(b.eq(0)).toHaveAttr("title","bad"),expect(b.eq(1)).toHaveAttr("title","poor"),expect(b.eq(2)).toHaveAttr("title","regular"),expect(b.eq(3)).toHaveAttr("title","good"),expect(b.eq(4)).toHaveAttr("title","gorgeous"),expect(c.eq(0)).toHaveAttr("src","img/star-on.png"),expect(c.eq(1)).toHaveAttr("src","img/star-on.png"),expect(c.eq(2)).toHaveAttr("src","img/star-on.png"),expect(c.eq(3)).toHaveAttr("src","img/star-on.png"),expect(c.eq(4)).toHaveAttr("src","img/star-off.png"),expect(c.eq(0)).toHaveAttr("title","bad"),expect(c.eq(1)).toHaveAttr("title","poor"),expect(c.eq(2)).toHaveAttr("title","regular"),expect(c.eq(3)).toHaveAttr("title","good"),expect(c.eq(4)).toHaveAttr("title","gorgeous"),expect(d.eq(0)).toHaveAttr("src","img/star-on.png"),expect(d.eq(1)).toHaveAttr("src","img/star-on.png"),expect(d.eq(2)).toHaveAttr("src","img/star-on.png"),expect(d.eq(3)).toHaveAttr("src","img/star-on.png"),expect(d.eq(4)).toHaveAttr("src","img/star-off.png"),expect(d.eq(0)).toHaveAttr("title","bad"),expect(d.eq(1)).toHaveAttr("title","poor"),expect(d.eq(2)).toHaveAttr("title","regular"),expect(d.eq(3)).toHaveAttr("title","good"),expect(d.eq(4)).toHaveAttr("title","gorgeous")}),it("should cancel without click",function(){var a=$(".star").raty({score:1});a.raty("cancel");var b=a.eq(0).children("img"),c=a.eq(1).children("img"),d=a.eq(2).children("img");expect(b.eq(0)).toHaveAttr("src","img/star-off.png"),expect(b.eq(1)).toHaveAttr("src","img/star-off.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png"),expect(a.eq(0).children("input").val()).toEqual(""),expect(c.eq(0)).toHaveAttr("src","img/star-off.png"),expect(c.eq(1)).toHaveAttr("src","img/star-off.png"),expect(c.eq(2)).toHaveAttr("src","img/star-off.png"),expect(c.eq(3)).toHaveAttr("src","img/star-off.png"),expect(c.eq(4)).toHaveAttr("src","img/star-off.png"),expect(a.eq(1).children("input").val()).toEqual(""),expect(d.eq(0)).toHaveAttr("src","img/star-off.png"),expect(d.eq(1)).toHaveAttr("src","img/star-off.png"),expect(d.eq(2)).toHaveAttr("src","img/star-off.png"),expect(d.eq(3)).toHaveAttr("src","img/star-off.png"),expect(d.eq(4)).toHaveAttr("src","img/star-off.png"),expect(a.eq(2).children("input").val()).toEqual("")}),it("should cancel with click",function(){var a=$(".star").raty({click:function(a,b){$(this).attr("title",null===a?"null":a)},score:1});a.raty("cancel",!0);var b=a.eq(0).children("img"),c=a.eq(1).children("img"),d=a.eq(2).children("img");expect(b.eq(0)).toHaveAttr("src","img/star-off.png"),expect(b.eq(1)).toHaveAttr("src","img/star-off.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png"),expect(a.eq(0)).toHaveAttr("title","null"),expect(a.eq(0).children("input").val()).toEqual(""),expect(c.eq(0)).toHaveAttr("src","img/star-off.png"),expect(c.eq(1)).toHaveAttr("src","img/star-off.png"),expect(c.eq(2)).toHaveAttr("src","img/star-off.png"),expect(c.eq(3)).toHaveAttr("src","img/star-off.png"),expect(c.eq(4)).toHaveAttr("src","img/star-off.png"),expect(a.eq(1)).toHaveAttr("title","null"),expect(a.eq(1).children("input").val()).toEqual(""),expect(d.eq(0)).toHaveAttr("src","img/star-off.png"),expect(d.eq(1)).toHaveAttr("src","img/star-off.png"),expect(d.eq(2)).toHaveAttr("src","img/star-off.png"),expect(d.eq(3)).toHaveAttr("src","img/star-off.png"),expect(d.eq(4)).toHaveAttr("src","img/star-off.png"),expect(a.eq(1)).toHaveAttr("title","null"),expect(a.eq(2).children("input").val()).toEqual("")}),it("should click the star 3",function(){var a=$(".star").raty({click:function(a,b){$(this).attr("title",a)}});a.raty("click",3);var b=a.eq(0).children("img"),c=a.eq(1).children("img"),d=a.eq(2).children("img");expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-on.png"),expect(b.eq(2)).toHaveAttr("src","img/star-on.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png"),expect(a.eq(0)).toHaveAttr("title",3),expect(c.eq(0)).toHaveAttr("src","img/star-on.png"),expect(c.eq(1)).toHaveAttr("src","img/star-on.png"),expect(c.eq(2)).toHaveAttr("src","img/star-on.png"),expect(c.eq(3)).toHaveAttr("src","img/star-off.png"),expect(c.eq(4)).toHaveAttr("src","img/star-off.png"),expect(a.eq(1)).toHaveAttr("title",3),expect(d.eq(0)).toHaveAttr("src","img/star-on.png"),expect(d.eq(1)).toHaveAttr("src","img/star-on.png"),expect(d.eq(2)).toHaveAttr("src","img/star-on.png"),expect(d.eq(3)).toHaveAttr("src","img/star-off.png"),expect(d.eq(4)).toHaveAttr("src","img/star-off.png"),expect(a.eq(2)).toHaveAttr("title",3)}),it("should set a target on div with click",function(){$("body").append('<div id="hint1"></div><div id="hint2"></div><div id="hint3"></div>');var a=$("#hint1"),b=$("#hint2"),c=$("#hint3"),d=$(".star");d.eq(0).raty({target:"#hint1",targetKeep:!0,click:function(a,b){}}),d.eq(1).raty({target:"#hint2",targetKeep:!0,click:function(a,b){}}),d.eq(2).raty({target:"#hint3",targetKeep:!0,click:function(a,b){}}),d.raty("click",4),expect(a).toHaveHtml("good"),expect(b).toHaveHtml("good"),expect(c).toHaveHtml("good"),a.remove(),b.remove(),c.remove()}),it("should set a target on div with start",function(){$("body").append('<div id="hint1"></div><div id="hint2"></div><div id="hint3"></div>');var a=$("#hint1"),b=$("#hint2"),c=$("#hint3"),d=$(".star");d.eq(0).raty({target:"#hint1",targetKeep:!0,click:function(a,b){}}),d.eq(1).raty({target:"#hint2",targetKeep:!0,click:function(a,b){}}),d.eq(2).raty({target:"#hint3",targetKeep:!0,click:function(a,b){}}),d.raty("score",4),expect(a).toHaveHtml("good"),expect(b).toHaveHtml("good"),expect(c).toHaveHtml("good"),a.remove(),b.remove(),c.remove()}),it("should set a target on div with cancel",function(){$("body").append('<div id="hint1"></div><div id="hint2"></div><div id="hint3"></div>');var a=$("#hint1"),b=$("#hint2"),c=$("#hint3"),d=$(".star");d.eq(0).raty({cancel:!0,target:"#hint1",targetKeep:!0,click:function(a,b){}}),d.eq(1).raty({cancel:!0,target:"#hint2",targetKeep:!0,click:function(a,b){}}),d.eq(2).raty({cancel:!0,target:"#hint3",targetKeep:!0,click:function(a,b){}}),d.raty("cancel").mouseout(),expect(a).toBeEmpty(),expect(b).toBeEmpty(),expect(c).toBeEmpty(),a.remove(),b.remove(),c.remove()}),it("should not start when it is readOnly",function(){var a=$(".star").raty({readOnly:!0});a.eq(0).raty("score",1),a.eq(1).raty("score",1),a.eq(2).raty("score",1);var b=a.eq(0).children("img"),c=a.eq(1).children("img"),d=a.eq(2).children("img");expect(b.eq(0)).toHaveAttr("src","img/star-off.png"),expect(b.eq(1)).toHaveAttr("src","img/star-off.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png"),expect(c.eq(0)).toHaveAttr("src","img/star-off.png"),expect(c.eq(1)).toHaveAttr("src","img/star-off.png"),expect(c.eq(2)).toHaveAttr("src","img/star-off.png"),expect(c.eq(3)).toHaveAttr("src","img/star-off.png"),expect(c.eq(4)).toHaveAttr("src","img/star-off.png"),expect(d.eq(0)).toHaveAttr("src","img/star-off.png"),expect(d.eq(1)).toHaveAttr("src","img/star-off.png"),expect(d.eq(2)).toHaveAttr("src","img/star-off.png"),expect(d.eq(3)).toHaveAttr("src","img/star-off.png"),expect(d.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should not click when it is readOnly",function(){var a=$(".star").raty({readOnly:!0,click:function(a,b){}});a.eq(0).raty("click",1),a.eq(1).raty("click",1),a.eq(2).raty("click",1);var b=a.eq(0).children("img"),c=a.eq(1).children("img"),d=a.eq(2).children("img");expect(b.eq(0)).toHaveAttr("src","img/star-off.png"),expect(b.eq(1)).toHaveAttr("src","img/star-off.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png"),expect(c.eq(0)).toHaveAttr("src","img/star-off.png"),expect(c.eq(1)).toHaveAttr("src","img/star-off.png"),expect(c.eq(2)).toHaveAttr("src","img/star-off.png"),expect(c.eq(3)).toHaveAttr("src","img/star-off.png"),expect(c.eq(4)).toHaveAttr("src","img/star-off.png"),expect(d.eq(0)).toHaveAttr("src","img/star-off.png"),expect(d.eq(1)).toHaveAttr("src","img/star-off.png"),expect(d.eq(2)).toHaveAttr("src","img/star-off.png"),expect(d.eq(3)).toHaveAttr("src","img/star-off.png"),expect(d.eq(4)).toHaveAttr("src","img/star-off.png")}),it("should not cancel when it is readOnly",function(){var a=$(".star").raty({readOnly:!0,score:1});a.eq(0).raty("cancel"),a.eq(1).raty("cancel"),a.eq(2).raty("cancel");var b=a.eq(0).children("img"),c=a.eq(1).children("img"),d=a.eq(2).children("img");expect(b.eq(0)).toHaveAttr("src","img/star-on.png"),expect(b.eq(1)).toHaveAttr("src","img/star-off.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png"),expect(a.eq(0).children("input").val()).toEqual("1"),expect(c.eq(0)).toHaveAttr("src","img/star-on.png"),expect(c.eq(1)).toHaveAttr("src","img/star-off.png"),expect(c.eq(2)).toHaveAttr("src","img/star-off.png"),expect(c.eq(3)).toHaveAttr("src","img/star-off.png"),expect(c.eq(4)).toHaveAttr("src","img/star-off.png"),expect(a.eq(1).children("input").val()).toEqual("1"),expect(d.eq(0)).toHaveAttr("src","img/star-on.png"),expect(d.eq(1)).toHaveAttr("src","img/star-off.png"),expect(d.eq(2)).toHaveAttr("src","img/star-off.png"),expect(d.eq(3)).toHaveAttr("src","img/star-off.png"),expect(d.eq(4)).toHaveAttr("src","img/star-off.png"),expect(a.eq(2).children("input").val()).toEqual("1")}),it("should set score as readonly when start with readOnly",function(){
var a=$(".star").raty();a.eq(0).raty("readOnly",!0),a.eq(1).raty("readOnly",!0),a.eq(2).raty("readOnly",!0),expect(a.eq(0).children("input")).toHaveAttr("readonly","readonly"),expect(a.eq(1).children("input")).toHaveAttr("readonly","readonly"),expect(a.eq(2).children("input")).toHaveAttr("readonly","readonly")}),it("should rebind the cancel button after readOnly be enabled",function(){var a=$(".star").raty({cancel:!0});a.raty("readOnly",!0).raty("readOnly",!1).children(".raty-cancel").mouseenter();var b=a.eq(0).children("img").not(".raty-cancel"),c=a.eq(1).children("img").not(".raty-cancel"),d=a.eq(2).children("img").not(".raty-cancel");expect(b.eq(0)).toHaveAttr("src","img/star-off.png"),expect(b.eq(1)).toHaveAttr("src","img/star-off.png"),expect(b.eq(2)).toHaveAttr("src","img/star-off.png"),expect(b.eq(3)).toHaveAttr("src","img/star-off.png"),expect(b.eq(4)).toHaveAttr("src","img/star-off.png"),expect(c.eq(0)).toHaveAttr("src","img/star-off.png"),expect(c.eq(1)).toHaveAttr("src","img/star-off.png"),expect(c.eq(2)).toHaveAttr("src","img/star-off.png"),expect(c.eq(3)).toHaveAttr("src","img/star-off.png"),expect(c.eq(4)).toHaveAttr("src","img/star-off.png"),expect(d.eq(0)).toHaveAttr("src","img/star-off.png"),expect(d.eq(1)).toHaveAttr("src","img/star-off.png"),expect(d.eq(2)).toHaveAttr("src","img/star-off.png"),expect(d.eq(3)).toHaveAttr("src","img/star-off.png"),expect(d.eq(4)).toHaveAttr("src","img/star-off.png")}),it("[score] should set score on rating that is not read-only",function(){var a=$(".star");a.raty(),a.eq(1).raty("readOnly",!0),a.raty("score",2),expect(a.eq(0).children("input")).toHaveValue("2"),expect(a.eq(1).children("input").val()).toEqual(""),expect(a.eq(2).children("input")).toHaveValue("2")}),it("[click] should click on rating that is not read-only",function(){var a=$(".star");a.raty({click:function(){}}),a.eq(1).raty("readOnly",!0),a.raty("click",2),expect(a.eq(0).children("input")).toHaveValue("2"),expect(a.eq(1).children("input").val()).toEqual(""),expect(a.eq(2).children("input")).toHaveValue("2")}),it("[cancel] should cancel all rating that is not read-only",function(){var a=$(".star");a.raty({score:2}),a.eq(1).raty("readOnly",!0),a.raty("cancel"),expect(a.eq(0).children("input").val()).toEqual(""),expect(a.eq(1).children("input")).toHaveValue("2"),expect(a.eq(2).children("input").val()).toEqual("")})});