var adminApp=angular.module("adminApp",["ngRoute","oc.lazyLoad","requestModule","flash","ngAnimate"]);adminApp.controller("PaypalSettingsController",["$scope","requestHandler","Flash","siteMenuService","$location",function(a,b,c,d,e){var f="";a.siteMenuList=d,$.each(a.siteMenuList,function(a,b){b.href==e.path().substr(1)?b.active="active":b.active=""}),a.doGetPaypalSettings=function(){b.getRequest("admin/getappdetails/","").then(function(b){a.paypalSettings=b.data.App_settings[0],null==a.paypalSettings.paypaltype?a.paypalSettings.paypaltype="1":a.paypalSettings.paypaltype=a.paypalSettings.paypaltype.toString(),a.paypalSettings.adminPassword="",a.paypalSettings.coursepurchaseshare=a.paypalSettings.coursepurchaseshare.toString(),a.paypalSettings.coachsubscribeshare=a.paypalSettings.coachsubscribeshare.toString(),f=angular.copy(a.paypalSettings)},function(a){errorMessage(c,"Please Try again later")})},a.updateCheck=function(){$("html, body").animate({scrollTop:0},600),$(function(){$("#lean_overlay").fadeTo(1e3),$("#updatemodal").fadeIn(600),$(".common_model").show()}),$(".modal_close").click(function(){$(".common_model").hide(),$("#updatemodal").hide(),$("#lean_overlay").hide()}),$("#lean_overlay").click(function(){$(".common_model").hide(),$("#updatemodal").hide(),$("#lean_overlay").hide()})},a.doUpdatePaypalSettings=function(){a.paypalSettings.paypaltype=parseInt(a.paypalSettings.paypaltype),b.putRequest("admin/updatePayPalDetails/",a.paypalSettings).then(function(b){"1"==b.data.Response_status?(a.doGetPaypalSettings(),a.confirmPasswordForm.$setPristine(),successMessage(c,"Successfully Updated!")):(a.paypalSettings.adminPassword="",a.confirmPasswordForm.$setPristine(),errorMessage(c,"Invalid data provided"))},function(){a.paypalSettings.adminPassword="",a.confirmPasswordForm.$setPristine(),errorMessage(c,"Please try again later")})},a.doGetPaypalSettings_isClean=function(){return angular.equals(f,a.paypalSettings)},a.doGetPaypalSettings()}]);