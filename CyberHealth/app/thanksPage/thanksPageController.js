var userApp=angular.module("userApp",["ngRoute","oc.lazyLoad","requestModule"]);userApp.controller("ThanksSubscribePageController",["$scope","requestHandler","$location","$routeParams",function(e,n,o,c){var t=o.search();if(e.completed=!1,e.transactionSucceed=!0,e.enroll="SUBSCRIPTION",e.thanksEnroll="WE HAVE PROCESSING WITH YOUR PAYMENTS",e.countDownTimer=function(e,n){function o(){$("#countmesg").html("You will be redirecting to the "+n+" page in "+c+" seconds."),c--,0>c&&(clearInterval(t),window.location=e,c=0)}var c=5,t=setInterval(function(){o()},1e3)},$.isEmptyObject(t))e.completed=!0,e.transactionSucceed=!0,e.urlPage=n.paymentURL()+"/#/coachView/"+c.id,e.countDownTimer(e.urlPage,"course");else{var a={};a.payId=t.paymentId,a.payerId=t.PayerID,a.coachid=parseInt(c.id),a.month=parseInt(c.month),e.doExcecutePayment=function(o){n.postRequest("user/subscribeCoachExecute/",o).then(function(o){0==o.data.Response_status?(e.completed=!0,e.transactionSucceed=!1,e.urlPage=n.paymentURL()+"/#/coachSearch",e.countDownTimer(e.urlPage,"coach search")):(e.thanksEnroll="YOUR SUBSCRIPTION WAS SUCCESSFULLY COMPLETED",e.transactionSucceed=!0,e.completed=!0,e.urlPage=n.paymentURL()+"/#/coachView/"+c.id,e.countDownTimer(e.urlPage,"coach view"))},function(){e.completed=!0,e.transactionSucceed=!1,e.urlPage=n.paymentURL()+"/#/coachSearch",e.countDownTimer(e.urlPage,"coach search")})},console.log(a),e.doExcecutePayment(a)}}]),userApp.controller("ThanksEnrollPageController",["$scope","requestHandler","$location","$window","$routeParams",function(e,n,o,c,t){var a=o.search();if(e.completed=!1,e.transactionSucceed=!0,e.enroll="ENROLLMENT",e.thanksEnroll="WE HAVE PROCESSING WITH YOUR PAYMENTS",e.countDownTimer=function(e,n){function o(){$("#countmesg").html("You will be redirecting to the "+n+" page in "+c+" seconds."),c--,0>c&&(clearInterval(t),window.location=e,c=0)}var c=5,t=setInterval(function(){o()},1e3)},$.isEmptyObject(a))e.completed=!0,e.transactionSucceed=!0,e.urlPage=n.paymentURL()+"/#/courseDetail/"+t.id,e.countDownTimer(e.urlPage,"course");else{var r={};r.payId=a.paymentId,r.payerId=a.PayerID,r.courseid=parseInt(t.id),console.log(r),e.doExcecutePayment=function(o){n.postRequest("user/enrollCourseExecute/",o).then(function(o){0==o.data.Response_status?(e.completed=!0,e.transactionSucceed=!1,e.urlPage=n.paymentURL()+"/#/courses",e.countDownTimer(e.urlPage,"course search")):(e.thanksEnroll="YOUR HAVE SUCCESSFULLY ENROLLED THIS COURSE",e.transactionSucceed=!0,e.completed=!0,e.urlPage=n.paymentURL()+"/#/courseDetail/"+t.id,e.countDownTimer(e.urlPage,"course"))},function(){e.completed=!0,e.transactionSucceed=!1,e.urlPage=n.paymentURL()+"/#/courses",e.countDownTimer(e.urlPage,"course search")})},e.doExcecutePayment(r)}}]);