var adminApp=angular.module("adminApp",["ngRoute","oc.lazyLoad","requestModule","flash","ngAnimate"]);adminApp.controller("FoodMeasureController",["$scope","requestHandler","Flash",function(e,s,a){e.activeClass={measure:"active"},e.isNew=!0,e.title="Add Measure";var o="";e.reset=function(){e.list={},e.measureForm.$setPristine(),e.list.measurename="",e.isNew=!0,e.title="Add Measure","none"!=$(".search-list-form").css("display")&&$(".search-list-form").hide(),$(function(){$("#lean_overlay").fadeTo(1e3),$("#measure").fadeIn(600),$(".common_model").show(),e.shouldBeOpen=!0}),$(".modal_close").click(function(){$(".common_model").hide(),$("#measure").hide(),$("#lean_overlay").hide(),e.shouldBeOpen=!1}),$("#lean_overlay").click(function(){$(".common_model").hide(),$("#measure").hide(),$("#lean_overlay").hide(),e.shouldBeOpen=!1})},e.doViewAllFoodMeasure=function(){e.loaded=!0,s.getRequest("admin/viewAllfoodMeasure/","").then(function(s){e.measureList=s.data.viewAllfoodMeasure,e.loaded=!1,e.paginationLoad=!0},function(){errorMessage(a,"Please try again later!")})},e.doAddMeasure=function(){s.postRequest("admin/insertfoodMeasure/",e.list).then(function(s){0==s.data.Response_status?errorMessage(a,"Measure&nbsp;already&nbsp;exists"):1==s.data.Response_status&&(e.doViewAllFoodMeasure(),successMessage(a,"Successfully Added"))})},e.doEditFoodMeasure=function(n){e.isNew=!1,e.title="Edit Measure",$(function(){$("#lean_overlay").fadeTo(1e3),$("#measure").fadeIn(600),$(".common_model").show(),e.shouldBeOpen=!0}),e.loaded=!0,s.postRequest("admin/getfoodMeasurebyId/",{measureid:n}).then(function(s){o=angular.copy(s.data.Food_Measure),e.list=s.data.Food_Measure,e.loaded=!1,e.paginationLoad=!0},function(){errorMessage(a,"Please try again later!")}),$(".modal_close").click(function(){$(".common_model").hide(),$("#measure").hide(),$("#lean_overlay").hide(),e.shouldBeOpen=!1}),$("#lean_overlay").click(function(){$(".common_model").hide(),$("#measure").hide(),$("#lean_overlay").hide(),e.shouldBeOpen=!1})},e.doUpdateMeasure=function(){s.putRequest("admin/updatefoodMeasure/",e.list).then(function(s){0==s.data.Response_status&&(e.doViewAllFoodMeasure(),errorMessage(a,"Measure&nbsp;mapped&nbsp;with&nbsp;food")),1==s.data.Response_status&&(e.doViewAllFoodMeasure(),successMessage(a,"Successfully Added"))},function(){errorMessage(a,"Please try again later!")})},e.doEnableDisable=function(o){s.postRequest("admin/enableordisableFoodMeasure/",{measureid:o}).then(function(s){0==s.data.Response_status&&(e.doViewAllFoodMeasure(),errorMessage(a,"Measure&nbsp;used&nbsp;by&nbsp;food")),1==s.data.Response_status&&(e.doViewAllFoodMeasure(),successMessage(a,"Successfully Updated"))},function(){errorMessage(a,"Please try again later!")})},e.doDelete=function(o){s.postRequest("admin/deletefoodMeasure/",{measureid:o}).then(function(s){0==s.data.Response_status&&(e.doViewAllFoodMeasure(),errorMessage(a,"Measure&nbsp;used&nbsp;by&nbsp;food")),1==s.data.Response_status&&(e.doViewAllFoodMeasure(),successMessage(a,"Successfully Deleted"))},function(){errorMessage(a,"Please try again later!")})},e.init=function(){e.paginationLoad=!1,e.doViewAllFoodMeasure()},e.isClean=function(){return angular.equals(o,e.list)},$(".show-list-search").click(function(){$(".search-list-form").toggle(300),$(".search-list-form input").focus()})}]);