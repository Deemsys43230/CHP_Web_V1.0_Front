var adminApp=angular.module("adminApp",["ngRoute","oc.lazyLoad","requestModule","flash","ngAnimate","angularUtils.directives.dirPagination"]);adminApp.controller("ExerciseTypeController",["$scope","requestHandler","Flash","$location",function(a,b,c,d){a.activeClass={exercisetype:"active"};var e="";a.doGetAllExerciseType=function(){a.loaded=!0,b.getRequest("admin/listofTypes/","").then(function(b){a.exerciseTypeList=b.data.ExerciseType_Data,a.loaded=!1,a.paginationLoad=!0},function(){errorMessage(c,"Please try again later!")})},$(".show-list-search").click(function(){$(".search-list-form").toggle(300),$(".search-list-form input").focus()}),a.doAddExerciseType=function(){a.loaded=!0,b.postRequest("admin/insertorupdateExerciseType/",a.exerciseType).then(function(b){0==b.data.Response_status?errorMessage(c,"Exercise&nbsp;Type&nbsp;already&nbsp;exists"):1==b.data.Response_status&&(a.doGetAllExerciseType(),successMessage(c,"Exercise Type Successfully Added"),a.loaded=!1,a.paginationLoad=!0)},function(){errorMessage(c,"Please try again later!")})},a.doViewExerciseType=function(d){a.title="View Exercise Type",$(function(){$("#lean_overlay").fadeTo(1e3),$("#exerciseTypeView").fadeIn(600),$(".common_model").show()}),a.loaded=!0,b.postRequest("admin/gettypeIndividualDetail/",{typeid:d}).then(function(b){a.exerciseType=b.data.IndividualtypeData,a.loaded=!1,a.paginationLoad=!0},function(){errorMessage(c,"Please try again later!")}),$(".modal_close").click(function(){$(".common_model").hide(),$("#exerciseTypeView").hide(),$("#lean_overlay").hide()}),$("#lean_overlay").click(function(){$(".common_model").hide(),$("#exerciseTypeView").hide(),$("#lean_overlay").hide()})},a.doEditExerciseType=function(d){a.isNew=!1,a.title="Edit Exercise Type",a.exerciseTypeAddForm.$setPristine(),$(function(){$("#lean_overlay").fadeTo(1e3),$("#exerciseType").fadeIn(600),$(".common_model").show(),a.shouldBeOpen=!0}),a.loaded=!0,b.postRequest("admin/getTypeDetail/",{typeid:d}).then(function(b){e=angular.copy(b.data.ExerciseType_Data),a.exerciseType=b.data.ExerciseType_Data,a.loaded=!1,a.paginationLoad=!0},function(){errorMessage(c,"Please try again later!")}),$(".modal_close").click(function(){$(".common_model").hide(),$("#exerciseType").hide(),$("#lean_overlay").hide(),a.shouldBeOpen=!1}),$("#lean_overlay").click(function(){$(".common_model").hide(),$("#exerciseType").hide(),$("#lean_overlay").hide(),a.shouldBeOpen=!1})},a.doUpdateExerciseType=function(){a.loaded=!0,delete a.exerciseType.status,b.postRequest("admin/insertorupdateExerciseType/",a.exerciseType).then(function(b){a.loaded=!1,a.paginationLoad=!0,0==b.data.Response_status&&(a.doGetAllExerciseType(),errorMessage(c,"Exercise already used, can't updated!")),1==b.data.Response_status&&(a.doGetAllExerciseType(),successMessage(c,"Exercise Type Successfully Updated"))},function(){errorMessage(c,"Please try again later!")})},a.doEnableDisableExerciseType=function(d){"none"!=$(".search-list-form").css("display")&&($(".search-list-form").hide(),$(".search-list-form").show(2400)),a.loaded=!0,b.postRequest("enableordisableType/",{typeid:d}).then(function(b){a.loaded=!1,0==b.data.Response_status&&(a.doGetAllExerciseType(),errorMessage(c,"Exercise type mapped, can't disable!")),1==b.data.Response_status&&(a.doGetAllExerciseType(),successMessage(c,"Exercise Type Successfully Updated"))},function(){errorMessage(c,"Please try again later!")})},a.doDeleteExerciseType=function(d){"none"!=$(".search-list-form").css("display")&&($(".search-list-form").hide(),$(".search-list-form").show(2400)),a.loaded=!0,b.postRequest("deleteType/",{typeid:d}).then(function(b){a.loaded=!1,0==b.data.Response_status&&(a.doGetAllExerciseType(),errorMessage(c,"Exercise type mapped, can't delete!")),1==b.data.Response_status&&(successMessage(c,"Exercise Type Successfully Deleted"),a.doGetAllExerciseType())},function(){errorMessage(c,"Please try again later!")})},a.reset=function(){a.exerciseType={},a.exerciseType.typename="",a.title="Add Exercise Type",a.isNew=!0,a.exerciseTypeAddForm.$setPristine(),$(function(){$(".common_model").show(),a.shouldBeOpen=!0})},a.init=function(){a.paginationLoad=!1,a.doGetAllExerciseType()},a.init(),a.isClean=function(){return angular.equals(e,a.exerciseType)},a.verifyDuplicate=function(){var b,c;for(b=a.inputs.concat().sort(function(a,b){return a.levelname>b.levelname?1:a.levelname<b.levelname?-1:0}),c=0;c<a.inputs.length;c++)b[c].isDuplicate=b[c-1]&&b[c-1].levelname==b[c].levelname||b[c+1]&&b[c+1].levelname==b[c].levelname,a.error=b[c].isDuplicate}}]);