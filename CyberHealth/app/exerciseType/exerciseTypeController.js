var adminApp=angular.module("adminApp",["ngRoute","oc.lazyLoad","requestModule","flash","ngAnimate","angularUtils.directives.dirPagination"]);adminApp.controller("ExerciseTypeController",["$scope","requestHandler","Flash","$location",function(e,s,a){e.activeClass={exercisetype:"active"};var i="";e.doGetAllExerciseType=function(){e.loaded=!0,s.getRequest("admin/listofTypes/","").then(function(s){e.exerciseTypeList=s.data.ExerciseType_Data,e.loaded=!1,e.paginationLoad=!0},function(){errorMessage(a,"Please try again later!")})},$(".show-list-search").click(function(){$(".search-list-form").toggle(300),$(".search-list-form input").focus()}),e.doAddExerciseType=function(){e.loaded=!0,s.postRequest("admin/insertorupdateExerciseType/",e.exerciseType).then(function(s){0==s.data.Response_status?errorMessage(a,"Exercise&nbsp;Type&nbsp;already&nbsp;exists"):1==s.data.Response_status&&(e.doGetAllExerciseType(),successMessage(a,"Exercise Type Successfully Added"),e.loaded=!1,e.paginationLoad=!0)},function(){errorMessage(a,"Please try again later!")})},e.doViewExerciseType=function(i){e.title="View Exercise Type",$(function(){$("#lean_overlay").fadeTo(1e3),$("#exerciseTypeView").fadeIn(600),$(".common_model").show()}),e.loaded=!0,s.postRequest("admin/gettypeIndividualDetail/",{typeid:i}).then(function(s){e.exerciseType=s.data.IndividualtypeData,e.loaded=!1,e.paginationLoad=!0},function(){errorMessage(a,"Please try again later!")}),$(".modal_close").click(function(){$(".common_model").hide(),$("#exerciseTypeView").hide(),$("#lean_overlay").hide()}),$("#lean_overlay").click(function(){$(".common_model").hide(),$("#exerciseTypeView").hide(),$("#lean_overlay").hide()})},e.doEditExerciseType=function(t){e.isNew=!1,e.title="Edit Exercise Type",e.exerciseTypeAddForm.$setPristine(),$(function(){$("#lean_overlay").fadeTo(1e3),$("#exerciseType").fadeIn(600),$(".common_model").show(),e.shouldBeOpen=!0}),e.loaded=!0,s.postRequest("admin/getTypeDetail/",{typeid:t}).then(function(s){i=angular.copy(s.data.ExerciseType_Data),e.exerciseType=s.data.ExerciseType_Data,e.loaded=!1,e.paginationLoad=!0},function(){errorMessage(a,"Please try again later!")}),$(".modal_close").click(function(){$(".common_model").hide(),$("#exerciseType").hide(),$("#lean_overlay").hide(),e.shouldBeOpen=!1}),$("#lean_overlay").click(function(){$(".common_model").hide(),$("#exerciseType").hide(),$("#lean_overlay").hide(),e.shouldBeOpen=!1})},e.doUpdateExerciseType=function(){e.loaded=!0,delete e.exerciseType.status,s.postRequest("admin/insertorupdateExerciseType/",e.exerciseType).then(function(s){e.loaded=!1,e.paginationLoad=!0,0==s.data.Response_status&&(e.doGetAllExerciseType(),errorMessage(a,"Exercise already used, can't updated!")),1==s.data.Response_status&&(e.doGetAllExerciseType(),successMessage(a,"Exercise Type Successfully Updated"))},function(){errorMessage(a,"Please try again later!")})},e.doEnableDisableExerciseType=function(i){"none"!=$(".search-list-form").css("display")&&($(".search-list-form").hide(),$(".search-list-form").show(2400)),e.loaded=!0,s.postRequest("enableordisableType/",{typeid:i}).then(function(s){e.loaded=!1,0==s.data.Response_status&&(e.doGetAllExerciseType(),errorMessage(a,"Exercise type mapped, can't disable!")),1==s.data.Response_status&&(e.doGetAllExerciseType(),successMessage(a,"Exercise Type Successfully Updated"))},function(){errorMessage(a,"Please try again later!")})},e.doDeleteExerciseType=function(i){"none"!=$(".search-list-form").css("display")&&($(".search-list-form").hide(),$(".search-list-form").show(2400)),e.loaded=!0,s.postRequest("deleteType/",{typeid:i}).then(function(s){e.loaded=!1,0==s.data.Response_status&&(e.doGetAllExerciseType(),errorMessage(a,"Exercise type mapped, can't delete!")),1==s.data.Response_status&&(successMessage(a,"Exercise Type Successfully Deleted"),e.doGetAllExerciseType())},function(){errorMessage(a,"Please try again later!")})},e.reset=function(){e.exerciseType={},e.exerciseType.typename="",e.title="Add Exercise Type",e.isNew=!0,e.exerciseTypeAddForm.$setPristine(),$(function(){$(".common_model").show(),e.shouldBeOpen=!0})},e.init=function(){e.paginationLoad=!1,e.doGetAllExerciseType()},e.init(),e.isClean=function(){return angular.equals(i,e.exerciseType)},e.verifyDuplicate=function(){var s,a;for(s=e.inputs.concat().sort(function(e,s){return e.levelname>s.levelname?1:e.levelname<s.levelname?-1:0}),a=0;a<e.inputs.length;a++)s[a].isDuplicate=s[a-1]&&s[a-1].levelname==s[a].levelname||s[a+1]&&s[a+1].levelname==s[a].levelname,e.error=s[a].isDuplicate}}]);