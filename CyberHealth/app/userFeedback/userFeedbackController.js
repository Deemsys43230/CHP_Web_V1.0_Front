var adminApp=angular.module("adminApp",["ngRoute","oc.lazyLoad","requestModule","flash","ngAnimate","angularUtils.directives.dirPagination","ui.bootstrap"]);adminApp.controller("UserFeedbackController",["$scope","requestHandler","Flash","$routeParams",function(a,b,c,d){a.currentPage=1,a.getUserFeedBackDetails=function(){a.loaded=!0,a.offset=(a.currentPage-1)*a.itemsPerPage,a.limit=a.currentPage*a.itemsPerPage,a.params={limit:a.limit,offset:a.offset,search:a.searchText},b.postRequest("admin/getFeedback/",a.params).then(function(b){a.userFeedbackList=b.data.feedbackList,$.each(a.userFeedbackList,function(a,b){null==b.mobile&&(b.mobile="N/A")}),a.total_count=b.data.totalrecords,a.loaded=!1})},a.feedbackid=[],a.isChecked=function(){a.getUserFeedBackDetails(),a.total_count>0&&$.each(a.userFeedbackList,function(b,c){1==document.getElementById("checkAll").checked?(a.feedbackid.push(c.feedbackid),1==$("#"+c.feedbackid).checked,a.removeDisable=!1):0==document.getElementById("checkAll").checked&&(a.feedbackid=[],0==$("#"+c.feedbackid).checked,a.removeDisable=!0)})},a.selectedFeedback=function(b){var c=a.feedbackid.indexOf(b);c>-1?a.feedbackid.splice(c,1):a.feedbackid.push(b),console.log(a.feedbackid)},a.removeFeedback=function(){b.postRequest("admin/deleteFeedback/",{feedbackid:a.feedbackid}).then(function(b){a.getUserFeedBackDetails(),successMessage(c,"Successfully Removed")})},a.init=function(){a.itemsPerPage=10,a.searchText=" ",a.getUserFeedBackDetails(),a.removeDisable=!0},a.init()}]);