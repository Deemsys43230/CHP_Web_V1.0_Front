"use strict";!function(){for(var e=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var n=(new Date).getTime(),r=Math.max(0,16-(n-e)),a=window.setTimeout(function(){t(n+r)},r);return e=n+r,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)})}(),angular.module("angular-svg-round-progress",[]),angular.module("angular-svg-round-progress").constant("roundProgressConfig",{max:50,semi:!1,rounded:!1,responsive:!1,clockwise:!0,radius:100,color:"#45ccce",bgcolor:"#eaeaea",stroke:15,duration:800,animation:"easeOutCubic",offset:0}),angular.module("angular-svg-round-progress").service("roundProgressService",[function(){var e={},t=angular.isNumber,n=document.head.querySelector("base");e.resolveColor=n&&n.href?function(e){var t=e.indexOf("#");return t>-1&&e.indexOf("url")>-1?e.slice(0,t)+window.location.href+e.slice(t):e}:function(e){return e},e.isSupported=!(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect);var r=function(e,t,n,r){var a=(r-90)*Math.PI/180;return{x:e+n*Math.cos(a),y:t+n*Math.sin(a)}};return e.toNumber=function(e){return t(e)?e:parseFloat((e+"").replace(",","."))},e.getOffset=function(t,n){var r=+n.offset||0;if("inherit"===n.offset)for(var a,o=t;!o.hasClass("round-progress-wrapper");)e.isDirective(o)&&(a=o.scope().$parent.getOptions(),r+=(+a.offset||0)+(+a.stroke||0)),o=o.parent();return r},e.updateState=function(e,t,n,a,o,i){if(!o)return a;var u=e>0?Math.min(e,t):0,s=i?180:359.9999,c=0===t?0:u/t*s,f=o/2,d=r(f,f,n,c),l=r(f,f,n,0),h=180>=c?"0":"1",p=["M",d.x,d.y,"A",n,n,0,h,0,l.x,l.y].join(" ");return a.attr("d",p)},e.isDirective=function(e){return e&&e.length?"undefined"!=typeof e.attr("round-progress")||"round-progress"===e[0].nodeName.toLowerCase():!1},e.animations={linearEase:function(e,t,n,r){return n*e/r+t},easeInQuad:function(e,t,n,r){return n*(e/=r)*e+t},easeOutQuad:function(e,t,n,r){return-n*(e/=r)*(e-2)+t},easeInOutQuad:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,r){return n*(e/=r)*e*e+t},easeOutCubic:function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,r){return n*(e/=r)*e*e*e+t},easeOutQuart:function(e,t,n,r){return-n*((e=e/r-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,r){return n*(e/=r)*e*e*e*e+t},easeOutQuint:function(e,t,n,r){return n*((e=e/r-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+t},easeOutSine:function(e,t,n,r){return n*Math.sin(e/r*(Math.PI/2))+t},easeInOutSine:function(e,t,n,r){return-n/2*(Math.cos(Math.PI*e/r)-1)+t},easeInExpo:function(e,t,n,r){return 0==e?t:n*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,n,r){return e==r?t+n:n*(-Math.pow(2,-10*e/r)+1)+t},easeInOutExpo:function(e,t,n,r){return 0==e?t:e==r?t+n:(e/=r/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(-Math.pow(2,-10*--e)+2)+t},easeInCirc:function(e,t,n,r){return-n*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOutCirc:function(e,t,n,r){return n*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOutCirc:function(e,t,n,r){return(e/=r/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,n,r){var a=1.70158,o=0,i=n;return 0==e?t:1==(e/=r)?t+n:(o||(o=.3*r),i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/o))+t)},easeOutElastic:function(e,t,n,r){var a=1.70158,o=0,i=n;return 0==e?t:1==(e/=r)?t+n:(o||(o=.3*r),i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*e)*Math.sin((e*r-a)*(2*Math.PI)/o)+n+t)},easeInOutElastic:function(e,t,n,r){var a=1.70158,o=0,i=n;return 0==e?t:2==(e/=r/2)?t+n:(o||(o=r*(.3*1.5)),i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),1>e?-.5*(i*Math.pow(2,10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/o))+t:i*Math.pow(2,-10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/o)*.5+n+t)},easeInBack:function(e,t,n,r,a){return void 0==a&&(a=1.70158),n*(e/=r)*e*((a+1)*e-a)+t},easeOutBack:function(e,t,n,r,a){return void 0==a&&(a=1.70158),n*((e=e/r-1)*e*((a+1)*e+a)+1)+t},easeInOutBack:function(e,t,n,r,a){return void 0==a&&(a=1.70158),(e/=r/2)<1?n/2*(e*e*(((a*=1.525)+1)*e-a))+t:n/2*((e-=2)*e*(((a*=1.525)+1)*e+a)+2)+t},easeInBounce:function(t,n,r,a){return r-e.animations.easeOutBounce(a-t,0,r,a)+n},easeOutBounce:function(e,t,n,r){return(e/=r)<1/2.75?n*(7.5625*e*e)+t:2/2.75>e?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:2.5/2.75>e?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(t,n,r,a){return a/2>t?.5*e.animations.easeInBounce(2*t,0,r,a)+n:.5*e.animations.easeOutBounce(2*t-a,0,r,a)+.5*r+n}},e}]),angular.module("angular-svg-round-progress").directive("roundProgress",["$window","roundProgressService","roundProgressConfig",function(e,t,n){var r={restrict:"EA",replace:!0,transclude:!0,scope:{current:"=",max:"=",semi:"=",rounded:"=",clockwise:"=",responsive:"=",radius:"@",color:"@",bgcolor:"@",stroke:"@",duration:"@",animation:"@",offset:"@"}};return t.isSupported?angular.extend(r,{link:function(a,o){var i,u,s=!o.hasClass("round-progress-wrapper"),c=s?o:o.find("svg").eq(0),f=c.find("path").eq(0),d=c.find("circle").eq(0),l=angular.copy(n);a.getOptions=function(){return l};var h=function(){var e=l.semi,n=l.responsive,r=+l.radius||0,a=+l.stroke,i=2*r,u=r-a/2-t.getOffset(o,l);c.css({top:0,left:0,position:n?"absolute":"static",width:n?"100%":i+"px",height:n?"100%":(e?r:i)+"px",overflow:"hidden"}),s||(c[0].setAttribute("viewBox","0 0 "+i+" "+(e?r:i)),o.css({width:n?"100%":"auto",position:"relative","padding-bottom":n?e?"50%":"100%":0})),o.css({width:n?"100%":"auto",position:"relative","padding-bottom":n?e?"50%":"100%":0}),f.css({stroke:t.resolveColor(l.color),"stroke-width":a,"stroke-linecap":l.rounded?"round":"butt"}),e?f.attr("transform",l.clockwise?"translate(0,"+i+") rotate(-90)":"translate("+i+", "+i+") rotate(90) scale(-1, 1)"):f.attr("transform",l.clockwise?"":"scale(-1, 1) translate("+-i+" 0)"),d.attr({cx:r,cy:r,r:u>=0?u:0}).css({stroke:t.resolveColor(l.bgcolor),"stroke-width":a})},p=function(n,r,a){var u=t.toNumber(l.max||0),s=n>0?e.Math.min(n,u):0,c=r===s||0>r?0:r||0,d=s-c,h=t.animations[l.animation],p=new e.Date,m=+l.duration||0,g=a||n>u&&r>u||0>n&&0>r||25>m,w=l.radius,v=w-l.stroke/2-t.getOffset(o,l),M=2*w,O=l.semi;g?t.updateState(s,u,v,f,M,O):(e.cancelAnimationFrame(i),function I(){var n=e.Math.min(new Date-p,m);t.updateState(h(n,c,d,m),u,v,f,M,O),m>n&&(i=e.requestAnimationFrame(I))}())},m=Object.keys(r.scope).filter(function(e){return"current"!==e});a.$watchGroup(m,function(e){for(var t=0;t<e.length;t++)"undefined"!=typeof e[t]&&(l[m[t]]=e[t]);h(),a.$broadcast("$parentOffsetChanged"),"inherit"!==l.offset||u?"inherit"!==l.offset&&u&&u():u=a.$on("$parentOffsetChanged",function(){p(a.current,a.current,!0),h()})}),a.$watchGroup(["current","max","animation","duration","radius","stroke","semi","offset"],function(e,n){p(t.toNumber(e[0]),t.toNumber(n[0]))})},template:function(e){for(var n=e.parent(),r="round-progress",a=['<svg class="'+r+'" xmlns="http://www.w3.org/2000/svg">','<circle fill="none"/>','<path fill="none"/>',"<g ng-transclude></g>","</svg>"];n.length&&!t.isDirective(n);)n=n.parent();return n&&n.length||(a.unshift('<div class="round-progress-wrapper">'),a.push("</div>")),a.join("\n")}}):angular.extend(r,{template:'<div class="round-progress" ng-transclude></div>'})}]);