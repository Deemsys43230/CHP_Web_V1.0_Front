angular.module("summernote",[]).controller("SummernoteController",["$scope","$attrs","$timeout",function(e,n,t){"use strict";var o,i=e.summernoteConfig||{};if(angular.isDefined(n.height)&&(i.height=n.height),angular.isDefined(n.focus)&&(i.focus=!0),angular.isDefined(n.airmode)&&(i.airMode=!0),angular.isDefined(n.lang)){if(!angular.isDefined($.summernote.lang[n.lang]))throw new Error('"'+n.lang+'" lang file must be exist.');i.lang=n.lang}i.oninit=e.init,i.onenter=function(n){updateNgModel(),e.enter({evt:n})},i.onfocus=function(n){e.focus({evt:n})},i.onblur=function(n){e.blur({evt:n})},i.onpaste=function(n){var t=((n.originalEvent||n).clipboardData||window.clipboardData).getData("Text");n.preventDefault(),document.execCommand("insertText",!1,t),e.paste({evt:t})},i.onkeyup=function(n){e.keyup({evt:n})},i.onkeydown=function(n){e.keydown({evt:n})},angular.isDefined(n.onImageUpload)&&(i.onImageUpload=function(n,t){e.imageUpload({files:n,editor:t,editable:e.editable})}),this.activate=function(a,r,u){var l=function(){var e=r.code();u&&u.$viewValue!==e&&t(function(){u.$setViewValue(e)},0)};i.onkeyup=function(n){l(),e.change({contents:n,editable:e.editable})},r.summernote(i);var c,d=r.next(".note-editor");d.focusout(function(){l()}),d.find(".note-toolbar").click(function(){l(),d.hasClass("codeview")?(d.on("keyup",l),u&&(c=a.$watch(function(){return u.$modelValue},function(e){d.find(".note-codable").val(e)}))):(d.off("keyup",l),angular.isFunction(c)&&c())}),u&&(u.$render=function(){r.code(u.$viewValue||"")}),angular.isDefined(n.editable)&&(e.editable=d.find(".note-editable")),o=r,r.on("$destroy",function(){r.destroy(),e.summernoteDestroyed=!0})},e.$on("$destroy",function(){e.summernoteDestroyed||o.destroy()})}]).directive("summernote",[function(){"use strict";return{restrict:"EA",transclude:!0,replace:!0,require:["summernote","^?ngModel"],controller:"SummernoteController",scope:{summernoteConfig:"=config",editable:"=",init:"&onInit",enter:"&onEnter",focus:"&onFocus",blur:"&onBlur",paste:"&onPaste",keyup:"&onKeyup",keydown:"&onKeydown",change:"&onChange",imageUpload:"&onImageUpload"},template:'<div class="summernote"></div>',link:function(e,n,t,o){var i=o[0],a=o[1];i.activate(e,n,a)}}}]);