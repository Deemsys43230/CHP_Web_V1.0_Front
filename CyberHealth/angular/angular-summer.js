angular.module("summernote",[]).controller("SummernoteController",["$scope","$attrs","$timeout",function(a,b,c){"use strict";var d,e=a.summernoteConfig||{};if(angular.isDefined(b.height)&&(e.height=b.height),angular.isDefined(b.focus)&&(e.focus=!0),angular.isDefined(b.airmode)&&(e.airMode=!0),angular.isDefined(b.lang)){if(!angular.isDefined($.summernote.lang[b.lang]))throw new Error('"'+b.lang+'" lang file must be exist.');e.lang=b.lang}e.oninit=a.init,e.onenter=function(b){updateNgModel(),a.enter({evt:b})},e.onfocus=function(b){a.focus({evt:b})},e.onblur=function(b){a.blur({evt:b})},e.onpaste=function(b){var c=((b.originalEvent||b).clipboardData||window.clipboardData).getData("Text");b.preventDefault(),document.execCommand("insertText",!1,c),a.paste({evt:c})},e.onkeyup=function(b){a.keyup({evt:b})},e.onkeydown=function(b){a.keydown({evt:b})},angular.isDefined(b.onImageUpload)&&(e.onImageUpload=function(b,c){a.imageUpload({files:b,editor:c,editable:a.editable})}),this.activate=function(f,g,h){var i=function(){var a=g.code();h&&h.$viewValue!==a&&c(function(){h.$setViewValue(a)},0)};e.onkeyup=function(b){i(),a.change({contents:b,editable:a.editable})},g.summernote(e);var j,k=g.next(".note-editor");k.focusout(function(){i()}),k.find(".note-toolbar").click(function(){i(),k.hasClass("codeview")?(k.on("keyup",i),h&&(j=f.$watch(function(){return h.$modelValue},function(a){k.find(".note-codable").val(a)}))):(k.off("keyup",i),angular.isFunction(j)&&j())}),h&&(h.$render=function(){g.code(h.$viewValue||"")}),angular.isDefined(b.editable)&&(a.editable=k.find(".note-editable")),d=g,g.on("$destroy",function(){g.destroy(),a.summernoteDestroyed=!0})},a.$on("$destroy",function(){a.summernoteDestroyed||d.destroy()})}]).directive("summernote",[function(){"use strict";return{restrict:"EA",transclude:!0,replace:!0,require:["summernote","^?ngModel"],controller:"SummernoteController",scope:{summernoteConfig:"=config",editable:"=",init:"&onInit",enter:"&onEnter",focus:"&onFocus",blur:"&onBlur",paste:"&onPaste",keyup:"&onKeyup",keydown:"&onKeydown",change:"&onChange",imageUpload:"&onImageUpload"},template:'<div class="summernote"></div>',link:function(a,b,c,d){var e=d[0],f=d[1];e.activate(a,b,f)}}}]);