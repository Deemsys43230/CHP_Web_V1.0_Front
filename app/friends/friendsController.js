var userApp=angular.module("userApp",["ngRoute","oc.lazyLoad","requestModule","flash","ngAnimate","friendsServiceModule"]);userApp.controller("FriendsController",function(e,t,s,n,i){e.viewDetails=0,e.friendsearch="",e.activeClass.friends="active",e.currentPage=0,e.pageSize=8,e.numberOfPages=function(){return Math.ceil(e.myFriendsList.length/e.pageSize)},e.currentPage1=0,e.pageSize1=8,e.numberOfPages1=function(){return Math.ceil(e.requestsent.length/e.pageSize1)},e.currentPage2=0,e.pageSize2=8,e.numberOfPages2=function(){return Math.ceil(e.requestreceived.length/e.pageSize2)},e.myFriends=function(){e.loaded=!0;var t=n.doGetMyFriends();t.then(function(t){e.myFriendsList=t,e.loaded=!1})},e.requestedFriends=function(){var t=n.doGetFriendRequest();t.then(function(t){e.requestedFriendsList=t,e.requestreceived=[],e.requestsent=[],$.each(e.requestedFriendsList,function(t,s){2==s.friendStatus?e.requestreceived.push(s):1==s.friendStatus&&e.requestsent.push(s)})})},e.searchFriends=function(){var t=n.doSearchFriends(e.friendsearch);t.then(function(t){e.searchFriendsList=t})},e.inviteFriends=function(t){var i=n.doInviteFriends(t);i.then(function(t){1==t.data.Response_status?(successMessage(s,"Request&nbsp;Sent"),e.searchFriends(""),e.initialLoad()):0==t.data.Response_status&&errorMessage(s,"Already Request Sent")})},e.acceptFriends=function(t){var i=n.doAcceptFriends(t);i.then(function(t){1==t.data.Response_status?(successMessage(s,"Request&nbsp;Accepted"),e.initialLoad()):0==t.data.Response_status&&errorMessage(s,"No Friends found")})},e.denyFriends=function(t){var i=n.doDenyFriends(t);i.then(function(t){1==t.data.Response_status?(successMessage(s,"Request&nbsp;Cancelled"),e.initialLoad()):0==t.data.Response_status&&errorMessage(s,"No friends found")})},e.doViewMembers=function(n){e.viewDetails=1,e.loaded=!0,t.getRequest("getUserIndividualDetail/"+n,"").then(function(t){e.myImgSrc=i.trustAsResourceUrl(t.data.getUserIndividualDetail.imageurl+"?decache="+Math.random()),e.viewMemberDetails=t.data.getUserIndividualDetail,null==e.viewMemberDetails.about&&(e.viewMemberDetails.about="N/A"),null==e.viewMemberDetails.dob&&(e.viewMemberDetails.dob="N/A"),null==e.viewMemberDetails.phone&&(e.viewMemberDetails.phone="N/A"),null==e.viewMemberDetails.country&&(e.viewMemberDetails.country="N/A"),null==e.viewMemberDetails.state&&(e.viewMemberDetails.state="N/A"),null==e.viewMemberDetails.city&&(e.viewMemberDetails.city="N/A"),null==e.viewMemberDetails.zipcode&&(e.viewMemberDetails.zipcode="N/A"),e.loaded=!1,e.paginationLoad=!0},function(){errorMessage(s,"Please try again later!")})},e.initialLoad=function(){e.myFriends(),e.requestedFriends(),e.searchFriends(),e.viewDetails=0},e.initialLoad()}),userApp.filter("startFrom",function(){return function(e,t){return t=+t,e?e.slice(t):void 0}}),userApp.filter("trusted",["$sce",function(e){return function(t){return e.trustAsResourceUrl(t)}}]);