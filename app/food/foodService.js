var adminApp=angular.module("foodServiceModule",["requestModule"]);adminApp.factory("FoodService",function(e){var a={};return a.doGetCategories=function(){return e.getRequest("admin/getFoodCategoryByStatus","").then(function(e){return e.data.Food_Category},function(){alert("Not able to pull Food Measure List")})},a.doGetTags=function(){return e.getRequest("admin/getFoodTag","").then(function(e){return e.data.Food_Tag_Data},function(){alert("Not able to pull Food Tag")})},a.getMeasureSet=function(){var e={polyunsaturatedfat:"",folicacid:"",vitaminE:"",vitaminC:"",zinc:"",vitaminA:"",protein:"",vitaminK:"",saturatedfat:"",niacin:"",fibre:"",measureid:"",sodium:"",thiamin:"",sugar:"",potassium:"",fat:"",vitaminB12:"",vitaminB6:"",calories:"",value:"",phosphorous:"",calcium:"",riboflavin:"",iron:"",monounsaturatedfat:"",measurename:"",carbo:""};return e},a.doAddMeasureMinerals=function(e,t,n){var r=a.getMeasureSet();r.measureid=e,r.measurename=t;var o=!1,i=0;return $.each(n,function(a,t){t.measureid==e&&(o=!0,i=a)}),o?n.splice(i,1):n.push(r),n},a.setSessionValues=function(e){var a={breakfast:!1,brunch:!1,lunch:!1,eveningsnacks:!1,dinner:!1};return $.each(e,function(e,t){switch(t.sessionid){case 1:a.breakfast=!0;break;case 2:a.brunch=!0;break;case 3:a.lunch=!0;break;case 4:a.eveningsnacks=!0;break;case 5:a.dinner=!0}}),a},a.getSessionArray=function(e){var a=new Array;return e.breakfast&&a.push(1),e.brunch&&a.push(2),e.lunch&&a.push(3),e.eveningsnacks&&a.push(4),e.dinner&&a.push(5),a},a.getCategoryArray=function(e){var a=new Array;return $.each(e,function(e,t){a.push(parseInt(t.categoryid))}),a},a.insertTag=function(a){return e.postRequest("admin/insertFoodTag/",{tagname:a}).then(function(e){return 1==e.data.Response_status?e.data.Food_Tag_Data.tagid:void 0})},a.convertImgToBase64=function(a,t,n){var r=e.convertUrl(a),o=new Image;o.crossOrigin="Anonymous",o.onload=function(){var e=document.createElement("CANVAS"),a=e.getContext("2d");e.height=this.height,e.width=this.width,a.drawImage(this,0,0);var r=e.toDataURL(n||"image/jpg");t(r),e=null},o.src=r},a.doGetMeasures=function(a){return e.getRequest("admin/viewfoodMeasure","").then(function(e){var t=e.data.viewfoodMeasure;return $.each(t,function(e,t){t.checked=!1,$.each(a,function(e,a){a.measureid==t.measureid&&(t.checked=!0)})}),t},function(){alert("Not able to pull Food Measure List")})},a});