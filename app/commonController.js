var commonApp=angular.module("commonApp",["ngRoute","oc.lazyLoad","requestModule","flash","ngAnimate"]);commonApp.controller("CommonController",function(e,t,o,n){e.countFrom=0,"logout"==n.session&&($(function(){$("#lean_overlay").fadeTo(1e3),$("#section-modal").fadeIn(600),$(".common_model").show()}),$(".modal_close").click(function(){$(".common_model").hide(),$("#section-modal").hide(),$("#lean_overlay").hide()}),$(".relogin").click(function(){$("#section-modal").hide()}),$("#lean_overlay").click(function(){$(".common_model").hide(),$("#section-modal").hide(),$("#lean_overlay").hide()})),e.doGetNewsByUser=function(){t.getRequest("getLatestNewsByUser/","").then(function(t){e.usernewslist=t.data.News},function(){errorMessage(o,"Please try again later!")})},e.doGetTestimonialsByUser=function(){t.getRequest("getTestimonialListByUser/","").then(function(t){e.usertestimoniallist=t.data.Testimonials},function(){errorMessage(o,"Please try again later!")})},e.doGetDashboardCount=function(){t.getRequest("getStatistics/","").then(function(t){e.adminCountList=t.data.Stats,e.memberCount=e.adminCountList.membercount,e.exerciseCount=e.adminCountList.exercisecount,e.foodCount=e.adminCountList.foodcount,e.courseCount=e.adminCountList.publishedcourses})},e.doGetNewsByUser(),e.doGetTestimonialsByUser(),e.doGetDashboardCount()}),commonApp.filter("trusted",["$sce",function(e){return function(t){return e.trustAsResourceUrl(t)}}]),commonApp.filter("html",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]),commonApp.filter("toSec",function(){return function(e){dateArgs=e.match(/\d{2,4}/g),year=dateArgs[2],month=parseInt(dateArgs[1])-1,day=dateArgs[0],hour=dateArgs[3],minutes=dateArgs[4];var t=new Date(year,month,day,hour,minutes).getTime();return t||""}});