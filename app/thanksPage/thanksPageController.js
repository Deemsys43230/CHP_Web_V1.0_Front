var userApp=angular.module("userApp",["ngRoute","oc.lazyLoad","requestModule"]);userApp.controller("ThanksSubscribePageController",function(e,n,c,o){var t=c.search();if(e.completed=!1,e.transactionSucceed=!0,e.enroll="SUBSCRIPTION",e.thanksEnroll="WE HAVE PROCESSING WITH YOUR PAYMENTS",e.countDownTimer=function(e,n){function c(){$("#countmesg").html("You will be redirecting to the "+n+" page in "+o+" seconds."),o--,0>o&&(clearInterval(t),window.location=e,o=0)}var o=5,t=setInterval(function(){c()},1e3)},$.isEmptyObject(t))e.completed=!0,e.transactionSucceed=!0,e.urlPage=n.paymentURL()+"/#/coachView/"+o.id,e.countDownTimer(e.urlPage,"course");else{var a={};a.payId=t.paymentId,a.payerId=t.PayerID,a.coachid=parseInt(o.id),a.month=parseInt(o.month),e.doExcecutePayment=function(c){n.postRequest("user/subscribeCoachExecute/",c).then(function(c){0==c.data.Response_status?(e.completed=!0,e.transactionSucceed=!1,e.urlPage=n.paymentURL()+"/#/coachSearch",e.countDownTimer(e.urlPage,"coach search")):(e.thanksEnroll="YOUR SUBSCRIPTION WAS SUCCESSFULLY COMPLETED",e.transactionSucceed=!0,e.completed=!0,e.urlPage=n.paymentURL()+"/#/coachView/"+o.id,e.countDownTimer(e.urlPage,"coach view"))},function(){e.completed=!0,e.transactionSucceed=!1,e.urlPage=n.paymentURL()+"/#/coachSearch",e.countDownTimer(e.urlPage,"coach search")})},console.log(a),e.doExcecutePayment(a)}}),userApp.controller("ThanksEnrollPageController",function(e,n,c,o,t){var a=c.search();if(e.completed=!1,e.transactionSucceed=!0,e.enroll="ENROLLMENT",e.thanksEnroll="WE HAVE PROCESSING WITH YOUR PAYMENTS",e.countDownTimer=function(e,n){function c(){$("#countmesg").html("You will be redirecting to the "+n+" page in "+o+" seconds."),o--,0>o&&(clearInterval(t),window.location=e,o=0)}var o=5,t=setInterval(function(){c()},1e3)},$.isEmptyObject(a))e.completed=!0,e.transactionSucceed=!0,e.urlPage=n.paymentURL()+"/#/courseDetail/"+t.id,e.countDownTimer(e.urlPage,"course");else{var r={};r.payId=a.paymentId,r.payerId=a.PayerID,r.courseid=parseInt(t.id),console.log(r),e.doExcecutePayment=function(c){n.postRequest("user/enrollCourseExecute/",c).then(function(c){0==c.data.Response_status?(e.completed=!0,e.transactionSucceed=!1,e.urlPage=n.paymentURL()+"/#/courses",e.countDownTimer(e.urlPage,"course search")):(e.thanksEnroll="YOUR HAVE SUCCESSFULLY ENROLLED THIS COURSE",e.transactionSucceed=!0,e.completed=!0,e.urlPage=n.paymentURL()+"/#/courseDetail/"+t.id,e.countDownTimer(e.urlPage,"course"))},function(){e.completed=!0,e.transactionSucceed=!1,e.urlPage=n.paymentURL()+"/#/courses",e.countDownTimer(e.urlPage,"course search")})},e.doExcecutePayment(r)}});