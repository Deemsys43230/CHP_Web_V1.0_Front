
<!-- Start Page Banner -->

<div class="white-background">
    <h3 class="text-center margin-tb-10 text-green text-bold">Your Goal</h3>
    <div class="col-md-12 no-padding">
        <div class="col-md-6">Duration<span class="pull-right">:</span></div>
        <div class="col-md-6 no-padding">{{goalDetails.startdate}} - {{goalDetails.enddate}}</div>
    </div>
    <div class="col-md-12 no-padding">
        <div class="col-md-6">Initial Weight <small>(Kgs)</small><span class="pull-right">:</span></div>
        <div class="col-md-6 no-padding">{{goalDetails.initialweight}} Kgs</div>
    </div>
    <div class="col-md-12 no-padding">
        <div class="col-md-6">Target Weight <small>(Kgs)</small><span class="pull-right">:</span></div>
        <div class="col-md-6 no-padding">{{goalDetails.targetweight}} Kgs</div>
    </div>
    <div class="col-md-12 no-padding">
        <div class="col-md-6">Current Weight <small>(Kgs)</small><span class="pull-right">:</span></div>
        <div class="col-md-6 no-padding">{{demography.weight}} Kgs</div>
    </div>

    <div class="col-md-12 margin-top-5">
        <p>Target Progress</p>
        <div id="targetGraph" style="height:47px;width:350px;"></div>
    </div>

    <div class="col-md-12 margin-top-10 text-center">
        <a class="target_button green_button" ng-click="updateGoalDetails()">Update Goal</a>
        <a class="target_button orange_button" ng-click="doGetWeightLogGraph()">View Graph</a>
        <a class="target_button red_button" ng-click="deteteGoal()">Delete Goal</a>
    </div>
</div>


<script>
    Highcharts.Renderer.prototype.symbols.line = function(x, y, width, height) {
        return ['M',x ,y + width / 2,'L',x+height,y + width / 2];
    };
    //-------------------------------------------------------
    Highcharts.setOptions({
        credits:{enabled:false},
        exporting:{enabled:false},
        legend:{enabled:false},
        title:{text:''},
        xAxis:{
            lineColor:'#999',
            lineWidth:1,
            labels:{style:{fontWeight:'bold'}}
        },
        yAxis:{
            tickColor:'#ccc',
            endOnTick:true,
            title:{
                text: ''
            },
            labels:{
                style:{
                    fontSize:'8px'
                },
                formatter:function(){
                    if (this.isLast){
                        return this.value + ' Kgs';
                    }
                    else{
                        return this.value;
                    }
                }
            }
        },
        tooltip:{
            enabled:true,
            backgroundColor:'rgba(255, 255, 255, 1)',
            borderWidth:0,
            shadow:true,
            style:{fontSize:'10px',padding:2},
            formatter:function() {
                return this.series.name + ": <strong>" + Highcharts.numberFormat(this.y,2) +" Kgs"+ "</strong>";
            }
        },
        plotOptions:{
            bar:{
                color:'#f8ba01',
                shadow:false,
                borderWidth:0
            },
            scatter:{
                marker:{
                    symbol:'line',
                    lineWidth:3,
                    radius:8,
                    lineColor:'#ff0000'
                }
            }
        }
    });

    //-------------------------------------------------------
    var targetchart = new Highcharts.Chart({
        chart:{renderTo:'targetGraph',
            margin:[5,30,20,70]
        },
        xAxis:{categories:['Weight']},
        yAxis:{
            labels:{y:10,style:{fontSize:'8px'}},
            plotBands:[{color: 'rgba(103,103,103,.35)'}]
        },
        series:[{name:'Current Weight',type: 'bar',pointWidth:10,data:[currentweight]},
            {name:'Target Weight',type: 'scatter',data:[targetweight]}]
    });
</script>