
<div class="page-banner1">
    <div id="w" class="clearfix">
        <div id="profile">
            <div class="col-md-12 no-padding">
                <div class="profile-image center-block"><img id="profile-image-change" ng-src="{{userProfile.imageurl | trusted}}"></div>
                <input type="hidden" ng-model="userProfile.imageurl" name="profileImage" id="profileImageId"/>
                <div class="change-image"><a id="modal_trigger" href="#modal" class="btn btn-xs btn-warning">Change</a></div>
                <h4 class="margin-top-20">{{orginalUserProfile.name}}</h4>
                <p>{{orginalUserProfile.emailid}}</p>
                <p>{{orginalUserProfile.phone}}</p>
            </div>
        </div>

        <div id="profile-content">
            <form name="userProfileForm">
            <div class="col-md-12">
                <div class="col-md-12">
                    <div class="margin-top-5 no-padding pull-right">
                        <a id="modal_trigger1" href="#modal-changePassword" ng-click="reset()" class="profile_button"><i class="fa fa-lock"></i> Change Password</a><br/><br/>
                    </div>
                    <div flash-message="2000" class="col-md-4 pull-right"></div>
                    <h5 class="classic-title"><span><i class="fa fa-user"></i> &nbsp;PROFILE UPDATE</span></h5>

                </div>
                <div class="col-md-12">
                    <div class="col-md-6 margin-top-10">
                        <div class="col-md-4 padding-top-4">
                            <h5>Name :</h5>
                        </div>
                        <div class="col-md-8">
                            <input class="profile_input" name="name" ng-model="userProfile.name" ng-pattern="/^ *([a-zA-Z]+ ?)+ *$/" required/>
                            <span ng-show="userProfileForm.name.$dirty&&userProfileForm.name.$invalid">
                                  <span class="error-message textarea-errormessage10" ng-show="userProfileForm.name.$error.required"><span>Required.</span></span>
                                 <span class="error-message textarea-errormessage10" ng-show="userProfileForm.name.$error.pattern"><span>Enter&nbsp;valid&nbsp;Name.</span></span>
                             </span>
                        </div>
                    </div>
                    <div class="col-md-6 margin-top-10">
                        <div class="col-md-4 padding-top-4">
                            <h5>Country :</h5>
                        </div>
                        <div class="col-md-8">
                            <input class="profile_input" name="country" ng-model="userProfile.country" maxlength="20" required/>
                             <span ng-show="userProfileForm.country.$dirty&&userProfileForm.country.$invalid">
                    <span class="error-message textarea-errormessage10" ng-show="userProfileForm.country.$error.required"><span>Required.</span></span>
                             </span>
                        </div>
                    </div>
                    <div class="col-md-6 margin-top-10">
                        <div class="col-md-4 padding-top-4">
                            <h5>DOB :</h5>
                        </div>
                        <div class="col-md-8">
                            <input type="text"  id="datepicker" name="dob" class="profile_input" ng-model="userProfile.dob" placeholder="Date Of Birth" required>
                             <span ng-show="userProfileForm.dob.$dirty&&userProfileForm.dob.$invalid">
                    <span class="error-message textarea-errormessage10" ng-show="userProfileForm.dob.$error.required"><span>Required.</span></span>
                             </span>
                        </div>
                    </div>
                    <div class="col-md-6 margin-top-10">
                        <div class="col-md-4 padding-top-4">
                            <h5>State :</h5>
                        </div>
                        <div class="col-md-8">
                            <input class="profile_input" name="state" ng-model="userProfile.state" maxlength="20" required/>
                            <span ng-show="userProfileForm.state.$dirty&&userProfileForm.state.$invalid">
                    <span class="error-message textarea-errormessage10" ng-show="userProfileForm.state.$error.required"><span>Required.</span></span>
                             </span>
                        </div>
                    </div>
                    <div class="col-md-6 margin-top-10">
                        <div class="col-md-4 padding-top-4">
                            <h5>Email Id :</h5>
                        </div>
                        <div class="col-md-8">
                            <input class="profile_input" ng-model="userProfile.emailid" ng-disabled="true" required/>
                        </div>
                    </div>

                    <div class="col-md-6 margin-top-10">
                        <div class="col-md-4 padding-top-4">
                            <h5>City :</h5>
                        </div>
                        <div class="col-md-8">
                            <input class="profile_input" name="city" ng-pattern="/^ *([a-zA-Z]+ ?)+ *$/" ng-model="userProfile.city" maxlength="20" required/>
                             <span ng-show="userProfileForm.city.$dirty&&userProfileForm.city.$invalid">
                                 <span class="error-message textarea-errormessage10" ng-show="userProfileForm.city.$error.required"><span>Required.</span></span>
                                 <span class="error-message textarea-errormessage10" ng-show="userProfileForm.city.$error.pattern"><span>Invalid&nbsp;city.</span></span>
                             </span>
                        </div>
                    </div>
                    <div class="col-md-6 margin-top-10">
                        <div class="col-md-4 padding-top-4">
                            <h5>Mobile :</h5>
                        </div>
                        <div class="col-md-8">
                            <input class="profile_input" name="phone" ng-pattern="/^\d+$/"  ng-model="userProfile.phone" ng-minlength="10" maxlength="10" required />
                            <span ng-show="userProfileForm.phone.$dirty&&userProfileForm.phone.$invalid">
                                 <span class="error-message textarea-errormessage10" ng-show="userProfileForm.phone.$error.required"><span>Required.</span></span>
                                  <span class="error-message textarea-errormessage10" ng-show="userProfileForm.phone.$error.pattern"><span>Invalid&nbsp;Format.</span></span>
                                 <span class="error-message textarea-errormessage10" ng-show="!userProfileForm.phone.$error.pattern&&userProfileForm.phone.$error.minlength"><span>Should&nbsp;be&nbsp;of&nbsp;length&nbsp;10.</span></span>
                             </span>
                        </div>
                    </div>
                    <div class="col-md-6 margin-top-10">
                        <div class="col-md-4 padding-top-4">
                            <h5>Zipcode :</h5>
                        </div>
                        <div class="col-md-8">
                            <input class="profile_input" name="zipcode" ng-pattern="/^\d+$/" ng-model="userProfile.zipcode" maxlength="6" ng-minlength="6" required/>
                            <span ng-show="userProfileForm.zipcode.$dirty&&userProfileForm.zipcode.$invalid">
                                <span class="error-message textarea-errormessage10" ng-show="userProfileForm.zipcode.$error.required"><span>Required.</span></span>
                                <span class="error-message textarea-errormessage10" ng-show="userProfileForm.zipcode.$error.pattern"><span>Invalid&nbsp;Format.</span></span>

                                <span class="error-message textarea-errormessage10" ng-show="!userProfileForm.zipcode.$error.pattern&&userProfileForm.zipcode.$error.minlength"><span>Should&nbsp;be&nbsp;of&nbsp;length&nbsp;6.</span></span>
                             </span>
                        </div>
                    </div>
                    <div class="col-md-6 margin-top-10">
                        <div class="col-md-4 padding-top-4">
                            <h5>Secret&nbsp;Question:</h5>
                        </div>
                        <div class="col-md-8">
                            <input class="profile_input" name="secretquestion" ng-model="userProfile.secretquestion" maxlength="150" required/>
                            <span ng-show="userProfileForm.secretquestion.$dirty&&userProfileForm.secretquestion.$invalid">
                    <span class="error-message textarea-errormessage10" ng-show="userProfileForm.secretquestion.$error.required"><span>Required.</span></span>
                             </span>
                        </div>
                    </div>

                    <div class="col-md-6 margin-top-10">
                        <div class="col-md-4 padding-top-4">
                            <h5>Gender :</h5>
                        </div>
                        <div class="col-md-8">
                            <input type="radio" id="1" class="height" name="sex" value="1" ng-model="userProfile.gender" selected required/>
                            <label for="1">Male</label>
                            <input type="radio" id="2" class="height" name="sex" value="2" ng-model="userProfile.gender" required/>
                            <label for="2">Female</label>
                        </div>
                    </div>
                    <div class="col-md-6 margin-top-10">
                        <div class="col-md-4 padding-top-4">
                            <h5>Secret&nbsp;Answer:</h5>
                        </div>
                        <div class="col-md-8">
                            <input class="profile_input" name="secretanswer" ng-model="userProfile.secretanswer" maxlength="150" required/>
                            <span ng-show="userProfileForm.secretanswer.$dirty&&userProfileForm.secretanswer.$invalid">
                    <span class="error-message textarea-errormessage10" ng-show="userProfileForm.secretanswer.$error.required"><span>Required.</span></span>
                             </span>
                        </div>
                    </div>
                    <div class="col-md-6 margin-top-10">
                        <br/><br/>
                    </div>
                    <div class="col-md-6 margin-top-10">
                        <div class="col-md-4 padding-top-4">
                            <h5>About Me :</h5>
                        </div>
                        <div class="col-md-8">
                            <span ng-show="userProfileForm.about.$dirty&&userProfileForm.about.$invalid">
                                 <span class="error-message textarea-errormessage40-right" ng-show="userProfileForm.about.$error.required"><span>Required.</span></span>
                             </span>
                            <textarea class="profile_input_textarea" name="about" ng-model="userProfile.about" maxlength="300" required></textarea>

                        </div>
                    </div>
                    <div class="col-md-12 text-center margin-top-20">
                        <a href="" class=" btn register_button" ng-click="doUpdateProfile()" ng-disabled="isClean() || userProfileForm.$invalid">Save Changes</a>
                        <a href="#dashboard" class="btn cancel_button">Cancel</a>
                    </div>
                </div>
            </div>
                </form>
        </div><!-- @end #content -->
    </div><!-- @end #w -->
</div>

<!-- create coach popup-->
<div id="modal" class="popupContainer" style="display:none;">
    <header class="popupHeader">
        <span class="header_title">Change Profile Image</span>
        <span class="modal_close"><i class="fa fa-times"></i></span>
    </header>

    <section class="popupBody">
        <!-- Register Form -->
        <div class="common_model">
            <div class="image-editor">
                <div class="cropit-image-preview center-block"></div>
                <div class="image-size-label">
                    Resize image
                </div>
                <input type="range" class="cropit-image-zoom-input">

                <div class="action_btns margin-top-20">
                    <div class="one_half">
                        <div class="fileUpload food-button">
                            <span>Choose File</span>
                            <input type="file" class="upload cropit-image-input" />
                        </div>
                    </div>
                    <div class="one_half last"><a href="" onclick="return false;" class="food-button export modal_close" ng-click="doUpdateProfileImage()">Upload Image</a></div>
                </div>
            </div>
        </div>
    </section>
</div>

<!-- create coach popup-->
<div id="modal-changePassword" class="popupContainer" style="display:none;">
    <header class="popupHeader">
        <span class="header_title">Change Password</span>
        <span class="modal_close"><i class="fa fa-times"></i></span>
    </header>

    <section class="popupBody">
        <!-- Register Form -->
        <div class="common_model">
            <form name="changePasswordForm">
                <p>Current Password</p>
                <input type="password" name="oldPassword" ng-model="changePassword.oldPassword" maxlength="20" required/>
                <span ng-show="changePasswordForm.oldPassword.$dirty&&changePasswordForm.oldPassword.$invalid">
                    <span class="error-message" ng-show="changePasswordForm.oldPassword.$error.required"><span>Required.</span></span>
                </span>
                <p>New Password</p>
                <input type="password" name="newPassword" ng-model="changePassword.newPassword" ng-pattern="/^[^ ]+$/" maxlength="20" required/>
                 <span ng-show="changePasswordForm.newPassword.$dirty&&changePasswordForm.newPassword.$invalid">
                    <span class="error-message" ng-show="changePasswordForm.newPassword.$error.required"><span>Required.</span></span>
                     <span class="error-message" ng-show="changePasswordForm.newPassword.$error.pattern"><span>Password&nbsp;doesn't&nbsp;allow&nbsp;space.</span></span>
                </span>
                <p>Confirm New Password</p>
                <input type="password" name="confirmPassword" compare-to="changePassword.newPassword" ng-model="changePassword.confirmPassword"/>
                <span ng-show="changePasswordForm.confirmPassword.$dirty&&changePasswordForm.confirmPassword.$invalid">
                    <span class="error-message" ng-show="changePasswordForm.confirmPassword.$error.compareTo"><span>Password&nbsp;don't&nbsp;match.</span></span>
                </span>
                <div class="action_btns margin-top-20">
                    <div class="one_half"><a class="btn btn_red modal_close" onclick="return false" ng-disabled="changePasswordForm.$invalid" ng-click="doChangePassword()">Change Password</a></div>
                    <div class="one_half last modal_close"><a onclick="return false;" class="btn back_btn">Cancel</a></div>
                </div>
            </form>
        </div>
    </section>
</div>

<script type="text/javascript" src="../../js/script.js"></script>

<script type="text/javascript">
    $("#modal_trigger").leanModal({top : 200, overlay : 0.6, closeButton: ".modal_close" });

    $(function(){
        $(".common_model").show();
    })
</script>

<script type="text/javascript">
    $("#modal_trigger1").leanModal({top : 200, overlay : 0.6, closeButton: ".modal_close" });

    $(function(){
        $(".common_model").show();
    })
</script>

<script>
    $(function() {
         $('.export').click(function() {

        });
    });
</script>

<script>

    var picker = new Pikaday(
            {
                format:'MM/DD/YYYY',
                field: document.getElementById('datepicker'),
                firstDay: 1,
                minDate: new Date(1940, 0, 1),
                maxDate: new Date(new Date().getFullYear()-7, 12, 31),
                yearRange: [1940, new Date().getFullYear()-7],
                defaultDate: new Date(new Date().getFullYear()-25,0,1)
            });

</script>

