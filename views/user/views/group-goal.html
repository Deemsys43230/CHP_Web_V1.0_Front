
<div class="page-banner1">
    <div id="w" class="clearfix">
        <div id="demography-content">
            <div class="col-md-12">
                <a href="" id="modal-createGoal" class="back-button pull-right margin-left-5" ng-click="doAddGoalPopup()"><i class="fa fa-plus-circle"></i> Create Goal</a>
                <div flash-message="2000" class="col-md-4 pull-right"></div>
                <h5 class="classic-title"><span><a href="#groupGoal"><i class="fa fa-bullseye"></i>&nbsp;&nbsp;MY GOALS</a></span>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="#groupGoalRequest"><i class="fa fa-paper-plane"></i>&nbsp;&nbsp;GOAL REQUEST</a></h5>
            </div>
            <div class="col-md-12">
                <table class="table table-striped table-bordered">
                    <thead>
                    <tr class="warning">
                        <th class="col-md-2">Title</th>
                        <th class="col-md-4">Description</th>
                        <th class="col-md-2">Duration</th>
                        <th class="col-md-1">Goal Type</th>
                        <th class="col-md-1">Members</th>
                        <th class="col-md-1">Options</th>
                    </tr>
                    </thead>
                    <tbody >
                    <tr dir-paginate="goalList in myGoalList | orderBy:['-isowner','-goalid'] | itemsPerPage:8">
                        <td><span class="line-clamp-xxs" title="{{goalList.title}}">{{goalList.title}}</span></td>
                        <td><span class="line-clamp-md" title="{{goalList.description}}">{{goalList.description}}</span></td>
                        <td>{{goalList.startdate}} - {{goalList.enddate}}</td>
                        <td>
                            <span ng-show="goalList.goaltype==1">Weight Loss</span>
                            <span ng-show="goalList.goaltype==2">Weight Gain</span>
                        </td>
                        <td>{{goalList.members}}</td>
                        <td>
                            <a href="#groupGoalView/{{goalList.goalid}}" class="btn-xs btn-primary">View</a>
                            <a href="" ng-class="{'disabled-class': goalList.isowner==0}" class="btn-xs btn-danger" ng-click="doConfirmation(goalList.goalid)">Delete</a>
                        </td>
                    </tr>
                    </tbody>
                </table>
                <!-- Start Pagination -->
                <dir-pagination-controls ng-show="paginationLoad" direction-links="true"
                                         boundary-links="true"> </dir-pagination-controls>

                <!-- End Pagination -->
            </div>
        </div><!-- @end #content -->
    </div><!-- @end #w -->
</div>

<!-- create Goal popup-->
<div id="createGoal" class="popupContainer" style="display:none;left:37%!important;">
    <header class="popupHeader">
        <span class="header_title">Create Goal</span>
        <span class="modal_close"><i class="fa fa-times"></i></span>
    </header>

    <section class="popupBody">
        <!-- Register Form -->
        <div class="common_model">
            <form name="createGoalForm">
                <p>Goal Title</p>
                <input type="text" name="title" ng-model="createGoal.title" maxlength="20" required/>
                <span ng-show="createGoalForm.title.$dirty&&createGoalForm.title.$invalid && !createGoalForm.title.$pristine">
                    <span class="error-message" ng-show="createGoalForm.title.$error.required"><span>Required.</span></span>
                </span>
                <p>Goal Duration</p>
                <input type="text" id="set-date" required/>
                <p>Goal Type</p>
                <div class="row margin-bottom-5 margin-top-3">
                    <div class="col-md-6">
                        <input type="radio" id="1" class="height" name="sex" value="1" ng-model="createGoal.goaltype" required/>
                        <label for="1">&nbsp;&nbsp;&nbsp;&nbsp;Weight Loss</label>
                    </div>
                    <div class="col-md-6">
                        <input type="radio" id="2" class="height" name="sex" value="2" ng-model="createGoal.goaltype" required/>
                        <label for="2">&nbsp;&nbsp;&nbsp;&nbsp;Weight Gain</label>
                    </div>
                </div>
                <p>Goal Description</p>
                <span ng-show="createGoalForm.description.$dirty&&createGoalForm.description.$invalid&& !createGoalForm.description.$pristine">
                    <span class="error-message textarea-errormessage40" ng-show="createGoalForm.description.$error.required"><span>Required.</span></span>
                </span>
                <textarea type="text"class="height-100" name="description" ng-model="createGoal.description" required></textarea>
                <div class="action_btns margin-top-20">
                    <div class="one_half"><a class="btn btn_red modal_close" onclick="return false" ng-disabled="createGoalForm.$invalid" ng-click="doCreateGoal()">Create Goal</a></div>
                    <div class="one_half last modal_close"><a onclick="return false;" class="btn back_btn">Cancel</a></div>
                </div>
            </form>
        </div>
    </section>
</div>

<!-- create coach popup-->
<div id="confirmation" class="popupContainer" style="display:none;left:37%!important;">
    <header class="popupHeader">
        <span class="header_title">Confirmation</span>
        <span class="modal_close"><i class="fa fa-times"></i></span>
    </header>

    <section class="popupBody">
        <!-- Register Form -->
        <div class="common_model">
            <div>It will delete entire group!<br/>Are you sure want to delete this Group?</div>
            <div class="action_btns margin-top-20">
                <div class="one_half"><a href="" class="btn btn_red modal_close" ng-click="doDeleteGroup(deleteId)">Yes</a></div>
                <div class="one_half last modal_close"><a onclick="return false;" class="btn back_btn">No</a></div>
            </div>
        </div>
    </section>
</div>

<input id="start" hidden/>
<input id="end" hidden/>

<script type="text/javascript" src="../../js/script.js"></script>

<script type="text/javascript">
    $("#modal-createGoal").leanModal({top : 200, overlay : 0.6, closeButton: ".modal_close" });

    $(function(){
        var options = {
            minDate : new Date,
            startDate : new Date,
            endDate : new Date
        };

        $('#set-date').daterangepicker(options, function(start, end, label) {
            document.getElementById("start").value = start.format('DD/MM/YYYY');
            document.getElementById("end").value = end.format('DD/MM/YYYY');
        });
    })
</script>