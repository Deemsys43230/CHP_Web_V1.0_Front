
<!-- Start Page Banner -->

<div class="container" ng-cloak class="ng-cloak">
    <div class="row">

        <div class="col-md-3">
            <h4 class="classic-title"><span>Site Management</span></h4>
            <div ng-include src="'views/site-menu.html'" onload="activeClass"></div>
        </div>
        <div class="col-md-9">
            <a href="#articles" class="back-button pull-right margin-left-5"><i class="fa fa-arrow-circle-o-left"></i> Back to Article List</a>
            <h4 class="classic-title"><span><i class="fa fa-pencil"></i> &nbsp;{{title}}</span></h4>
            <div class="row">
                <form name="articleForm">
                    <div class="row">
                        <img>
                        <div class="col-md-2">
                            <div class="col-md-12 image-editor">
                                <h4>User Image</h4>
                                <div class="cropit-image-preview"><input type="hidden" id="base64"/></div>
                                <div class="margin-top-20 col-md-12 no-padding">
                                    <div class="fileUpload btn btn-xs btn-primary">
                                        <span>Choose File</span>
                                        <input type="file" id="image" name="image" class="upload export cropit-image-input" valid-file  ng-model="articles.imageurl" ng-click="doUpdateImage();"/>

                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-10">
                            <div class="col-md-3">
                                <h4>Given By</h4>
                            </div>
                            <div class="col-md-9 margin-bottom-20">
                                <input class="form-control" name="by" ng-model="articles.by" maxlength="45" required>
                                    <span ng-show="articleForm.by.$dirty&&articleForm.by.$invalid">
                                  <span class="error-message" ng-show="articleForm.by.$error.required"><span>Required.</span></span>
                             </span>
                            </div>
                            <div class="col-md-3">
                                <h4>Title</h4>
                            </div>
                            <div class="col-md-9 margin-bottom-20">
                                <input class="form-control" name="title" ng-model="articles.title" maxlength="100" required>
                                    <span ng-show="articleForm.title.$dirty&&articleForm.title.$invalid">
                                  <span class="error-message" ng-show="articleForm.title.$error.required"><span>Required.</span></span>
                             </span>
                            </div>
                            <div class="col-md-3">
                                <h4>Description</h4>
                            </div>
                            <div class="col-md-9 margin-bottom-20">
                                <textarea type="text" class="height-150 form-control" name="description" ng-model="articles.description" required></textarea>
                                    <span ng-show="articleForm.description.$dirty&&articleForm.description.$invalid">
                                  <span class="error-message" ng-show="articleForm.description.$error.required" style="bottom: 100px;"><span>Required.</span></span>
                             </span>
                            </div>
                            <div class="col-md-3">
                                <h4>Content</h4>
                            </div>
                            <div class="col-md-9 margin-bottom-20">
                                <textarea type="text" class="height-150 form-control" name="content" ng-model="articles.content" required></textarea>
                                    <span ng-show="articleForm.content.$dirty&&articleForm.content.$invalid">
                                  <span class="error-message" ng-show="articleForm.content.$error.required" style="bottom: 100px;"><span>Required.</span></span>
                             </span>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="text-center margin-top-10">
                <a href="" class="btn btn-success" ng-click="doAddArticles()" ng-disabled="articleForm.$invalid || isCleanArticle()" ng-show="isNew">Add Article</a>
                <a href="" class="btn btn-success"  ng-click="doUpdateArticles()" ng-disabled="articleForm.$invalid || isCleanArticle()" ng-hide="isNew">Save Changes</a>
                <a href="#articles" class="btn btn-warning">Cancel</a>
            </div>
        </div>
    </div>
</div>

<!-- End Page Banner -->

<script type="text/javascript" src="../../js/script.js"></script>
<script type="text/javascript">
function el(id){return document.getElementById(id);} // Get elem by ID

function readImage() {
    if ( this.files && this.files[0] ) {
        var FR= new FileReader();
        FR.onload = function(e) {   
             el("base64").value=e.target.result;
        };       
        FR.readAsDataURL( this.files[0] );
    }
}
el("image").addEventListener("change", readImage, false);
</script>