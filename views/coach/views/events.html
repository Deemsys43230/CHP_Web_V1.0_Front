
<!-- Start Page Banner -->

<div class="page-banner" ng-cloak class="ng-cloak">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 min-height-450">
                <a href="#dashboard" class="back-button pull-right margin-left-5"><i class="fa fa-arrow-circle-o-left"></i> Back to Dashboard</a>
                <a href="#event-add" class="back-button pull-right margin-left-5"><i class="fa fa-plus-circle"></i> Create New Events</a>
                <div flash-message="2000" class="col-lg-4 col-md-4 col-sm-4 pull-right no-padding"></div>
                <h4 class="classic-title"><span>My Events <!-- <span class="text-red">({{myEventsList.length}})</span> --> </span></h4>
                <div class="row margin-top-10 margin-bottom-10">
                    <div ng-if="loaded">
                        <div class="loader-style">
                            <div class="loader"></div>
                        </div>
                    </div>
                    <div class="col-lg-12 col-md-12 col-sm-12 no-padding">
                        <input id="history-start" hidden />
                        <input id="history-end" hidden />
                        <div class="pull-right">

                            <div class="input-group margin-bottom-10">
                                <input type="text" id="history-graph"  class="history_input pull-right" block>
                                <span class="pull-right margin-top-5 text-right"><i class="fa fa-calendar"></i>&nbsp;Date <span class="hidden-md hidden-sm">Range</span>:&nbsp;
                                </span>
                                <span class="input-group-btn">
                                    <button class="btn history" ng-click="doGetEventsByCoach()" type="button">Go!</button>
                                </span>
                            </div><!-- /input-group -->
                        </div>
                    </div>
                    <div class="col-lg-12 col-md-12 col-sm-12 margin-bottom-10">

                        <table class="table table-striped table-bordered">
                            <thead>
                                <tr class="warning">
                                    <th class="col-md-2">Event Name</th>
                                    <th class="col-md-3">Event Description</th>
                                    <th class="col-md-1">Event Date</th>
                                    <th class="col-md-2">Event Duration</th>
                                    <th class="col-md-3">Options</th>
                                </tr>
                            </thead>

                            <tbody >
                                <tr dir-paginate="event in eventfilter = (eventList | itemsPerPage: 9)" ng-show="eventList.length!=0">
                                    <td>{{event.eventname}}</td>
                                    <td>{{event.description}}</td>
                                    <td>{{event.datetime}}</td>
                                    <td>{{event.duration}}</td>
                                    <td>
                                        <a href="#event-view/{{event.id}}" class="btn-xs btn-primary">View Details</a>
                                        <a href="#event-edit/{{event.id}}" class="btn-xs btn-warning">Edit Details</a>
                                        <a href="" class="btn-xs btn-danger" ng-click="deleteModel(event.id)">Delete</a>
                                    </td>
                                </tr>
                                <tr ng-show="eventList.length==0 || !eventfilter.length "><td colspan="5" class="text-center">No Records Found !!!</td></tr>
                            </tbody>
                        </table>  
                        <!-- Start Pagination -->
                        <dir-pagination-controls class="text-center" ng-show="paginationLoad" boundary-links="true"> </dir-pagination-controls>
                        <!-- End Pagination -->    
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

<!-- delete confirmation popup-->
<div id="modal" class="popupContainer" style="display:none;left: 37%!important;">
    <header class="popupHeader">
        <span class="header_title">Confirmation</span>
        <span class="modal_close"><i class="fa fa-times"></i></span>
    </header>

    <section class="popupBody">
        <!-- Register Form -->
        <div class="common_model">
            <div class="text-center"><img src="../../images/alert-ring.png"/></div><br/>
            <h5 class="text-center">Are you sure want to delete this Event?</h5>
            <div class="action_btns margin-top-20">
                <div class="one_half"><a href="" class="btn btn_red modal_close" ng-click="doDeleteEvent()">Yes</a></div>
                <div class="one_half last modal_close"><a onclick="return false;" class="btn back_btn">No</a></div>
            </div>
        </div>
    </section>
</div>


<script type="text/javascript" src="../../js/script.js"></script>

<script>

 $("#modal_trigger").leanModal({top : 200, overlay : 0.6, closeButton: ".modal_close" });


//for dashboard main date
            function daterangepicker() {
                var endDate=new Date();
                endDate.setDate(endDate.getDate()+6);

                $("#history-graph").click();
                var options = {
                    startDate : new Date(),
                    endDate : endDate,
                    singleDatePicker: false,
                    opens:'left',
                    showDropdowns: true,
                    ranges:{
                        'Next Week': [moment(), moment().add(6,'days')],
                        'Next 2 Weeks': [moment(), moment().add(13,'days')],
                        'Next 3 Weeks': [moment(), moment().add(20,'days')],
                        'Next Month': [moment(), moment().add(30,'days')]
                    }
                };

                $('#history-graph').daterangepicker(options, function(start, end, label) {
                    document.getElementById("history-start").value = start.format('DD/MM/YYYY');
                    document.getElementById("history-end").value = end.format('DD/MM/YYYY');
                });

            };
                
        </script>
